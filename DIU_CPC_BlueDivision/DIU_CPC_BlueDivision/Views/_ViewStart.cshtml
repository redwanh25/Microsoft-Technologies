@using Microsoft.AspNet.Identity;
@using DIU_CPC_BlueDivision.DifferentLayout_Database;
@using System.Configuration;

@{

    string str = "";
    str = User.Identity.GetUserId();
    string superAdmin = ConfigurationManager.AppSettings["SuperAdmin"].ToString();
    string admin = ConfigurationManager.AppSettings["Admin"].ToString();
    string student = ConfigurationManager.AppSettings["Student"].ToString();
    if (!string.IsNullOrEmpty(str))
    {
        AspNetUsersBusinessLayer aspNetUsersBusinessLayer = new AspNetUsersBusinessLayer();
        str = aspNetUsersBusinessLayer.GetSecureCode(str);
    }
    if (str == superAdmin)
    {
        Layout = "~/Views/Shared/_Layout_For_SuperAdmin.cshtml";
    }
    else if (str == admin)
    {
        Layout = "~/Views/Shared/_Layout_For_Admin.cshtml";
    }
    else if (str == student)
    {
        Layout = "~/Views/Shared/_Layout_For_All.cshtml";
    }
    else
    {
        string appPath1 = "";
        appPath1 = string.Format("{0}://{1}", Request.Url.Scheme, Request.Url.Authority);
        Response.Redirect(appPath1 + "/RegistrationAndLoginPage/RegisterAndLogin.aspx");


        //string appPath = "";
        //appPath = string.Format("{0}", Request.Url.AbsoluteUri);

        //string blogPage = string.Format("{0}://{1}", Request.Url.Scheme, Request.Url.Authority) + "/Blog";
        //if (appPath == blogPage)
        //{
        //    Layout = "~/Views/Shared/_Layout.cshtml";
        //}
        //else
        //{
        //    string appPath1 = "";
        //    appPath1 = string.Format("{0}://{1}", Request.Url.Scheme, Request.Url.Authority);
        //    Response.Redirect(appPath1 + "/RegistrationAndLoginPage/RegisterAndLogin.aspx");
        //}
        //Response.Redirect(appPath + "http://localhost:50120/RegistrationAndLoginPage/RegisterAndLogin.aspx");
    }
}
