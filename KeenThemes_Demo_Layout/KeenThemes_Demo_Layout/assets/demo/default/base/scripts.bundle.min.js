"use strict";this.Element&&function(t){t.matches=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.msMatchesSelector||function(t){for(var e=(this.parentNode||this.document).querySelectorAll(t),a=-1;e[++a]&&e[a]!=this;);return!!e[a]}}(Element.prototype),this.Element&&function(t){t.closest=t.closest||function(t){for(var e=this;e.matches&&!e.matches(t);)e=e.parentNode;return e.matches?e:null}}(Element.prototype),this.Element&&function(t){t.matches=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.msMatchesSelector||function(t){for(var e=(this.parentNode||this.document).querySelectorAll(t),a=-1;e[++a]&&e[a]!=this;);return!!e[a]}}(Element.prototype),function(){for(var t=0,e=["webkit","moz"],a=0;a<e.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[e[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[a]+"CancelAnimationFrame"]||window[e[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var a=(new Date).getTime(),n=Math.max(0,16-(a-t)),i=window.setTimeout(function(){e(a+n)},n);return t=a+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(t){t.hasOwnProperty("prepend")||Object.defineProperty(t,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var a=t instanceof Node;e.appendChild(a?t:document.createTextNode(String(t)))}),this.insertBefore(e,this.firstChild)}})}),window.KUtilElementDataStore={},window.KUtilElementDataStoreID=0,window.KUtilDelegatedEventHandlers={};var KUtil=function(){var t=[],e={sm:544,md:768,lg:1024,xl:1200},a=function(){var e=!1;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){!function(){for(var e=0;e<t.length;e++)t[e].call()}()},250)})};return{init:function(t){t&&t.breakpoints&&(e=t.breakpoints),a()},addResizeHandler:function(e){t.push(e)},removeResizeHandler:function(e){for(var a=0;a<t.length;a++)e===t[a]&&delete t[a]},runResizeHandlers:function(){_runResizeHandlers()},resize:function(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}},getURLParam:function(t){var e,a,n=window.location.search.substring(1).split("&");for(e=0;e<n.length;e++)if((a=n[e].split("="))[0]==t)return unescape(a[1]);return null},isMobileDevice:function(){return this.getViewPort().width<this.getBreakpoint("lg")},isDesktopDevice:function(){return!KUtil.isMobileDevice()},getViewPort:function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}},isInResponsiveRange:function(t){var e=this.getViewPort().width;return"general"==t||("desktop"==t&&e>=this.getBreakpoint("lg")+1||("tablet"==t&&e>=this.getBreakpoint("md")+1&&e<this.getBreakpoint("lg")||("mobile"==t&&e<=this.getBreakpoint("md")||("desktop-and-tablet"==t&&e>=this.getBreakpoint("md")+1||("tablet-and-mobile"==t&&e<=this.getBreakpoint("lg")||"minimal-desktop-and-below"==t&&e<=this.getBreakpoint("xl"))))))},getUniqueID:function(t){return t+Math.floor(Math.random()*(new Date).getTime())},getBreakpoint:function(t){return e[t]},isset:function(t,e){var a;if(-1!==(e=e||"").indexOf("["))throw new Error("Unsupported object path notation.");e=e.split(".");do{if(void 0===t)return!1;if(a=e.shift(),!t.hasOwnProperty(a))return!1;t=t[a]}while(e.length);return!0},getHighestZindex:function(t){for(var e,a,n=KUtil.get(t);n&&n!==document;){if(("absolute"===(e=KUtil.css(n,"position"))||"relative"===e||"fixed"===e)&&(a=parseInt(KUtil.css(n,"z-index")),!isNaN(a)&&0!==a))return a;n=n.parentNode}return null},hasFixedPositionedParent:function(t){for(;t&&t!==document;){if(position=KUtil.css(t,"position"),"fixed"===position)return!0;t=t.parentNode}return!1},sleep:function(t){for(var e=(new Date).getTime(),a=0;a<1e7&&!((new Date).getTime()-e>t);a++);},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},isAngularVersion:function(){return void 0!==window.Zone},deepExtend:function(t){t=t||{};for(var e=1;e<arguments.length;e++){var a=arguments[e];if(a)for(var n in a)a.hasOwnProperty(n)&&("object"==typeof a[n]?t[n]=KUtil.deepExtend(t[n],a[n]):t[n]=a[n])}return t},extend:function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var a in arguments[e])arguments[e].hasOwnProperty(a)&&(t[a]=arguments[e][a]);return t},get:function(t){var e;return t===document?document:t&&1===t.nodeType?t:(e=document.getElementById(t))?e:(e=document.getElementsByTagName(t))?e[0]:(e=document.getElementsByClassName(t))?e[0]:null},getByID:function(t){return t&&1===t.nodeType?t:document.getElementById(t)},getByClass:function(t){var e;return(e=document.getElementsByClassName(t))?e[0]:null},hasClasses:function(t,e){if(t){for(var a=e.split(" "),n=0;n<a.length;n++)if(0==KUtil.hasClass(t,KUtil.trim(a[n])))return!1;return!0}},hasClass:function(t,e){if(t)return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},addClass:function(t,e){if(t&&void 0!==e){var a=e.split(" ");if(t.classList)for(var n=0;n<a.length;n++)a[n]&&a[n].length>0&&t.classList.add(KUtil.trim(a[n]));else if(!KUtil.hasClass(t,e))for(n=0;n<a.length;n++)t.className+=" "+KUtil.trim(a[n])}},removeClass:function(t,e){if(t&&void 0!==e){var a=e.split(" ");if(t.classList)for(var n=0;n<a.length;n++)t.classList.remove(KUtil.trim(a[n]));else if(KUtil.hasClass(t,e))for(n=0;n<a.length;n++)t.className=t.className.replace(new RegExp("\\b"+KUtil.trim(a[n])+"\\b","g"),"")}},triggerCustomEvent:function(t,e,a){if(window.CustomEvent)var n=new CustomEvent(e,{detail:a});else(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,a);t.dispatchEvent(n)},triggerEvent:function(t,e){var a;if(t.ownerDocument)a=t.ownerDocument;else{if(9!=t.nodeType)throw new Error("Invalid node passed to fireEvent: "+t.id);a=t}if(t.dispatchEvent){var n="";switch(e){case"click":case"mouseenter":case"mouseleave":case"mousedown":case"mouseup":n="MouseEvents";break;case"focus":case"change":case"blur":case"select":n="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+e+"'."}var i="change"!=e;(o=a.createEvent(n)).initEvent(e,i,!0),o.synthetic=!0,t.dispatchEvent(o,!0)}else if(t.fireEvent){var o;(o=a.createEventObject()).synthetic=!0,t.fireEvent("on"+e,o)}},index:function(t){for(var e=(t=KUtil.get(t)).parentNode.children,a=0;a<e.length;a++)if(e[a]==t)return a},trim:function(t){return t.trim()},eventTriggered:function(t){return!!t.currentTarget.dataset.triggered||(t.currentTarget.dataset.triggered=!0,!1)},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},find:function(t,e){if(t=KUtil.get(t))return t.querySelector(e)},findAll:function(t,e){if(t=KUtil.get(t))return t.querySelectorAll(e)},insertAfter:function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},parents:function(t,e){function a(t,e){for(var a=0,n=t.length;a<n;a++)if(t[a]==e)return!0;return!1}return function(t,e){for(var n=document.querySelectorAll(e),i=t.parentNode;i&&!a(n,i);)i=i.parentNode;return i}(t,e)},children:function(t,e,a){if(t&&t.childNodes){for(var n=[],i=0,o=t.childNodes.length;i<o;++i)1==t.childNodes[i].nodeType&&KUtil.matches(t.childNodes[i],e,a)&&n.push(t.childNodes[i]);return n}},child:function(t,e,a){var n=KUtil.children(t,e,a);return n?n[0]:null},matches:function(t,e,a){var n=Element.prototype,i=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)};return!(!t||!t.tagName)&&i.call(t,e)},data:function(t){return t=KUtil.get(t),{set:function(e,a){void 0!==t&&(void 0===t.customDataTag&&(KUtilElementDataStoreID++,t.customDataTag=KUtilElementDataStoreID),void 0===KUtilElementDataStore[t.customDataTag]&&(KUtilElementDataStore[t.customDataTag]={}),KUtilElementDataStore[t.customDataTag][e]=a)},get:function(e){if(void 0!==t)return void 0===t.customDataTag?null:this.has(e)?KUtilElementDataStore[t.customDataTag][e]:null},has:function(e){return void 0!==t&&(void 0!==t.customDataTag&&!(!KUtilElementDataStore[t.customDataTag]||!KUtilElementDataStore[t.customDataTag][e]))},remove:function(e){t&&this.has(e)&&delete KUtilElementDataStore[t.customDataTag][e]}}},outerWidth:function(t,e){if(!0===e){var a=parseFloat(t.offsetWidth);return a+=parseFloat(KUtil.css(t,"margin-left"))+parseFloat(KUtil.css(t,"margin-right")),parseFloat(a)}return a=parseFloat(t.offsetWidth)},offset:function(t){var e,a;if(t=KUtil.get(t))return t.getClientRects().length?(e=t.getBoundingClientRect(),a=t.ownerDocument.defaultView,{top:e.top+a.pageYOffset,left:e.left+a.pageXOffset}):{top:0,left:0}},height:function(t){return KUtil.css(t,"height")},visible:function(t){return!(0===t.offsetWidth&&0===t.offsetHeight)},attr:function(t,e,a){if(null!=(t=KUtil.get(t)))return void 0===a?t.getAttribute(e):void t.setAttribute(e,a)},hasAttr:function(t,e){if(null!=(t=KUtil.get(t)))return!!t.getAttribute(e)},removeAttr:function(t,e){null!=(t=KUtil.get(t))&&t.removeAttribute(e)},animate:function(t,e,a,n,i,o){var l={};if(l.linear=function(t,e,a,n){return a*t/n+e},i=l.linear,"number"==typeof t&&"number"==typeof e&&"number"==typeof a&&"function"==typeof n){"function"!=typeof o&&(o=function(){});var r=window.requestAnimationFrame||function(t){window.setTimeout(t,20)},s=e-t;n(t);var d=window.performance&&window.performance.now?window.performance.now():+new Date;r(function l(c){var u=(c||+new Date)-d;u>=0&&n(i(u,t,s,a)),u>=0&&u>=a?(n(e),o()):r(l)})}},actualCss:function(t,e,a){var n,i="";if((t=KUtil.get(t))instanceof HTMLElement!=!1)return t.getAttribute("k-hidden-"+e)&&!1!==a?parseFloat(t.getAttribute("k-hidden-"+e)):(i=t.style.cssText,t.style.cssText="position: absolute; visibility: hidden; display: block;","width"==e?n=t.offsetWidth:"height"==e&&(n=t.offsetHeight),t.style.cssText=i,t.setAttribute("k-hidden-"+e,n),parseFloat(n))},actualHeight:function(t,e){return KUtil.actualCss(t,"height",e)},actualWidth:function(t,e){return KUtil.actualCss(t,"width",e)},getScroll:function(t,e){return e="scroll"+e,t==window||t==document?self["scrollTop"==e?"pageYOffset":"pageXOffset"]||browserSupportsBoxModel&&document.documentElement[e]||document.body[e]:t[e]},css:function(t,e,a){if(t=KUtil.get(t))if(void 0!==a)t.style[e]=a;else{var n=(t.ownerDocument||document).defaultView;if(n&&n.getComputedStyle)return e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(t,null).getPropertyValue(e);if(t.currentStyle)return e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),a=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(a)?function(e){var a=t.style.left,n=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=a,t.runtimeStyle.left=n,e}(a):a}},slide:function(t,e,a,n,i){if(!(!t||"up"==e&&!1===KUtil.visible(t)||"down"==e&&!0===KUtil.visible(t))){a=a||600;var o=KUtil.actualHeight(t),l=!1,r=!1;KUtil.css(t,"padding-top")&&!0!==KUtil.data(t).has("slide-padding-top")&&KUtil.data(t).set("slide-padding-top",KUtil.css(t,"padding-top")),KUtil.css(t,"padding-bottom")&&!0!==KUtil.data(t).has("slide-padding-bottom")&&KUtil.data(t).set("slide-padding-bottom",KUtil.css(t,"padding-bottom")),KUtil.data(t).has("slide-padding-top")&&(l=parseInt(KUtil.data(t).get("slide-padding-top"))),KUtil.data(t).has("slide-padding-bottom")&&(r=parseInt(KUtil.data(t).get("slide-padding-bottom"))),"up"==e?(t.style.cssText="display: block; overflow: hidden;",l&&KUtil.animate(0,l,a,function(e){t.style.paddingTop=l-e+"px"},"linear"),r&&KUtil.animate(0,r,a,function(e){t.style.paddingBottom=r-e+"px"},"linear"),KUtil.animate(0,o,a,function(e){t.style.height=o-e+"px"},"linear",function(){n(),t.style.height="",t.style.display="none"})):"down"==e&&(t.style.cssText="display: block; overflow: hidden;",l&&KUtil.animate(0,l,a,function(e){t.style.paddingTop=e+"px"},"linear",function(){t.style.paddingTop=""}),r&&KUtil.animate(0,r,a,function(e){t.style.paddingBottom=e+"px"},"linear",function(){t.style.paddingBottom=""}),KUtil.animate(0,o,a,function(e){t.style.height=e+"px"},"linear",function(){n(),t.style.height="",t.style.display="",t.style.overflow=""}))}},slideUp:function(t,e,a){KUtil.slide(t,"up",e,a)},slideDown:function(t,e,a){KUtil.slide(t,"down",e,a)},show:function(t,e){t.style.display=e||"block"},hide:function(t){t.style.display="none"},addEvent:function(t,e,a,n){void 0!==(t=KUtil.get(t))&&t.addEventListener(e,a)},removeEvent:function(t,e,a){(t=KUtil.get(t)).removeEventListener(e,a)},on:function(t,e,a,n){if(e){var i=KUtil.getUniqueID("event");return KUtilDelegatedEventHandlers[i]=function(a){for(var i=t.querySelectorAll(e),o=a.target;o&&o!==t;){for(var l=0,r=i.length;l<r;l++)o===i[l]&&n.call(o,a);o=o.parentNode}},KUtil.addEvent(t,a,KUtilDelegatedEventHandlers[i]),i}},off:function(t,e,a){t&&KUtilDelegatedEventHandlers[a]&&(KUtil.removeEvent(t,e,KUtilDelegatedEventHandlers[a]),delete KUtilDelegatedEventHandlers[a])},one:function(t,e,a){(t=KUtil.get(t)).addEventListener(e,function t(e){return e.target&&e.target.removeEventListener&&e.target.removeEventListener(e.type,t),a(e)})},hash:function(t){var e,a=0;if(0===t.length)return a;for(e=0;e<t.length;e++)a=(a<<5)-a+t.charCodeAt(e),a|=0;return a},animateClass:function(t,e,a){var n,i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var o in i)void 0!==t.style[o]&&(n=i[o]);KUtil.addClass(t,"animated "+e),KUtil.one(t,n,function(){KUtil.removeClass(t,"animated "+e)}),a&&KUtil.one(t,n,a)},transitionEnd:function(t,e){var a,n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"msTransitionEnd"};for(var i in n)void 0!==t.style[i]&&(a=n[i]);KUtil.one(t,a,e)},animationEnd:function(t,e){var a,n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var i in n)void 0!==t.style[i]&&(a=n[i]);KUtil.one(t,a,e)},animateDelay:function(t,e){for(var a=["webkit-","moz-","ms-","o-",""],n=0;n<a.length;n++)KUtil.css(t,a[n]+"animation-delay",e)},animateDuration:function(t,e){for(var a=["webkit-","moz-","ms-","o-",""],n=0;n<a.length;n++)KUtil.css(t,a[n]+"animation-duration",e)},scrollTo:function(t,e,a){a=a||500;var n,i,o=(t=KUtil.get(t))?KUtil.offset(t).top:0,l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;o>l?(n=o,i=l):(n=l,i=o),e&&(i+=e),KUtil.animate(n,i,a,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t})},scrollTop:function(t,e){KUtil.scrollTo(null,t,e)},isArray:function(t){return t&&Array.isArray(t)},ready:function(t){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},numberString:function(t){for(var e=(t+="").split("."),a=e[0],n=e.length>1?"."+e[1]:"",i=/(\d+)(\d{3})/;i.test(a);)a=a.replace(i,"$1,$2");return a+n},detectIE:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var a=t.indexOf("rv:");return parseInt(t.substring(a+3,t.indexOf(".",a)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)},isRTL:function(){return"rtl"==KUtil.attr(KUtil.get("html"),"direction")},scrollInit:function(t,e){function a(){var a,n;n=e.height instanceof Function?parseInt(e.height.call()):parseInt(e.height),e.disableForMobile&&KUtil.isInResponsiveRange("tablet-and-mobile")?(a=KUtil.data(t).get("ps"))?(e.resetHeightOnDestroy?KUtil.css(t,"height","auto"):(KUtil.css(t,"overflow","auto"),n>0&&KUtil.css(t,"height",n+"px")),a.destroy(),a=KUtil.data(t).remove("ps")):n>0&&(KUtil.css(t,"overflow","auto"),KUtil.css(t,"height",n+"px")):(n>0&&KUtil.css(t,"height",n+"px"),KUtil.css(t,"overflow","hidden"),(a=KUtil.data(t).get("ps"))?a.update():(KUtil.addClass(t,"k-scroll"),a=new PerfectScrollbar(t,{wheelSpeed:.5,swipeEasing:!0,wheelPropagation:!1,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:"true"!=KUtil.attr(t,"data-scroll-x")}),KUtil.data(t).set("ps",a)))}t&&(a(),e.handleWindowResize&&KUtil.addResizeHandler(function(){a()}))},scrollUpdate:function(t){var e;(e=KUtil.data(t).get("ps"))&&e.update()},scrollUpdateAll:function(t){for(var e=KUtil.findAll(t,".ps"),a=0,n=e.length;a<n;a++)KUtil.scrollerUpdate(e[a])},scrollDestroy:function(t){var e;(e=KUtil.data(t).get("ps"))&&(e.destroy(),e=KUtil.data(t).remove("ps"))}}}();KUtil.ready(function(){KUtil.init()});var KApp=function(){var t={},e=function(t){var e=t.data("skin")?"tooltip-"+t.data("skin"):"",a="auto"==t.data("width")?"tooltop-auto-width":"",n=t.data("trigger")?t.data("trigger"):"hover";t.data("placement")&&t.data("placement");t.tooltip({trigger:n,template:'<div class="tooltip '+e+" "+a+'" role="tooltip">                <div class="arrow"></div>                <div class="tooltip-inner"></div>            </div>'})},a=function(){$('[data-toggle="k-tooltip"]').each(function(){e($(this))})},n=function(t){var e=t.data("skin")?"popover-"+t.data("skin"):"",a=t.data("trigger")?t.data("trigger"):"hover";t.popover({trigger:a,template:'            <div class="popover '+e+'" role="tooltip">                <div class="arrow"></div>                <h3 class="popover-header"></h3>                <div class="popover-body"></div>            </div>'})},i=function(){$('[data-toggle="k-popover"]').each(function(){n($(this))})},o=function(t,e){t=$(t),new KPortlet(t[0],e)},l=function(){$('[data-kportlet="true"]').each(function(){var t=$(this);!0!==t.data("data-kportlet-initialized")&&(o(t,{}),t.data("data-kportlet-initialized",!0))})},r=function(){new Sticky('[data-sticky="true"]')};return{init:function(e){e&&e.colors&&(t=e.colors),KApp.initComponents()},initComponents:function(){$('[data-scroll="true"]').each(function(){var t=$(this);KUtil.scrollInit(this,{disableForMobile:!0,handleWindowResize:!0,height:function(){return KUtil.isInResponsiveRange("tablet-and-mobile")&&t.data("mobile-height")?t.data("mobile-height"):t.data("height")}})}),a(),i(),$("body").on("click","[data-close=alert]",function(){$(this).closest(".alert").hide()}),l(),$(".custom-file-input").on("change",function(){var t=$(this).val();$(this).next(".custom-file-label").addClass("selected").html(t)}),r()},initTooltips:function(){a()},initTooltip:function(t){e(t)},initPopovers:function(){i()},initPopover:function(t){n(t)},initPortlet:function(t,e){o(t,e)},initPortlets:function(){l()},initSticky:function(){r()},initAbsoluteDropdown:function(t){!function(t){var e;t&&(t.on("show.bs.dropdown",function(t){e=$(t.target).find(".dropdown-menu"),$("body").append(e.detach()),e.css("display","block"),e.position({my:"right top",at:"right bottom",of:$(t.relatedTarget)})}),t.on("hide.bs.dropdown",function(t){$(t.target).append(e.detach()),e.hide()}))}(t)},block:function(t,e){var a,n=$(t),i='<div class="k-spinner '+((e=$.extend(!0,{opacity:.03,overlayColor:"#000000",type:"",size:"",state:"brand",centerX:!0,centerY:!0,message:"",shadow:!0,width:"auto"},e)).type?"k-spinner--"+e.type:"")+" "+(e.state?"k-spinner--"+e.state:"")+" "+(e.size?"k-spinner--"+e.size:"")+'"></div';if(e.message&&e.message.length>0){var o="blockui "+(!1===e.shadow?"blockui":"");a='<div class="'+o+'"><span>'+e.message+"</span><span>"+i+"</span></div>";n=document.createElement("div");KUtil.get("body").prepend(n),KUtil.addClass(n,o),n.innerHTML="<span>"+e.message+"</span><span>"+i+"</span>",e.width=KUtil.actualWidth(n)+10,KUtil.remove(n),"body"==t&&(a='<div class="'+o+'" style="margin-left:-'+e.width/2+'px;"><span>'+e.message+"</span><span>"+i+"</span></div>")}else a=i;var l={message:a,centerY:e.centerY,centerX:e.centerX,css:{top:"30%",left:"50%",border:"0",padding:"0",backgroundColor:"none",width:e.width},overlayCSS:{backgroundColor:e.overlayColor,opacity:e.opacity,cursor:"wait",zIndex:"10"},onUnblock:function(){n&&n[0]&&(KUtil.css(n[0],"position",""),KUtil.css(n[0],"zoom",""))}};"body"==t?(l.css.top="50%",$.blockUI(l)):(n=$(t)).block(l)},unblock:function(t){t&&"body"!=t?$(t).unblock():$.unblockUI()},blockPage:function(t){return KApp.block("body",t)},unblockPage:function(){return KApp.unblock("body")},progress:function(t,e){var a="k-loader k-loader--"+(e&&e.skin?e.skin:"light")+" k-loader--"+(e&&e.alignment?e.alignment:"right")+" k-loader--"+(e&&e.size?"k-spinner--"+e.size:"");KApp.unprogress(t),$(t).addClass(a),$(t).data("progress-classes",a)},unprogress:function(t){$(t).removeClass($(t).data("progress-classes"))},getStateColor:function(e){return t.state[e]},getBaseColor:function(e,a){return t.base[e][a-1]}}}();$(document).ready(function(){KApp.init(KAppOptions)}),function(t){var e=KUtil,a=KApp;if(void 0===e)throw new Error("Util class is required and must be included before KDatatable");t.fn.KDatatable=function(n){if(0!==t(this).length){var i=this;i.debug=!1,i.API={record:null,value:null,params:null};var o={isInit:!1,cellOffset:110,iconOffset:15,stateId:"meta",ajaxParams:{},init:function(e){var a,n=!1;null===e.data.source&&(o.extractTable(),n=!0),o.setupBaseDOM.call(),o.setupDOM(i.table),o.setDataSourceQuery(o.getOption("data.source.read.params.query")),t(i).on("k-datatable--on-layout-updated",o.afterRender),i.debug&&o.stateRemove(o.stateId),t.each(o.getOption("extensions"),function(e,a){"function"==typeof t.fn.KDatatable[e]&&new t.fn.KDatatable[e](i,a)}),"remote"!==e.data.type&&"local"!==e.data.type||((!1===e.data.saveState||!1===e.data.saveState.cookie&&!1===e.data.saveState.webstorage)&&o.stateRemove(o.stateId),"local"===e.data.type&&"object"==typeof e.data.source&&(i.dataSet=i.originalDataSet=o.dataMapCallback(e.data.source)),o.dataRender()),n||(o.setHeadTitle(),o.getOption("layout.footer")&&o.setHeadTitle(i.tableFoot)),void 0!==e.layout.header&&!1===e.layout.header&&t(i.table).find("thead").remove(),void 0!==e.layout.footer&&!1===e.layout.footer&&t(i.table).find("tfoot").remove(),null!==e.data.type&&"local"!==e.data.type||(o.setupCellField.call(),o.setupTemplateCell.call(),o.setupSubDatatable.call(),o.setupSystemColumn.call(),o.redraw());var l=!1;return t(window).resize(function(){l||(a=t(this).width(),l=!0),t(this).width()!==a&&(a=t(this).width(),o.fullRender())}),t(i).height(""),t(o.getOption("search.input")).on("keyup",function(e){o.getOption("search.onEnter")&&13!==e.which||o.search(t(this).val())}),i},extractTable:function(){var a=[],o=t(i).find("tr:first-child th").get().map(function(e,i){var o=t(e).data("field");void 0===o&&(o=t(e).text().trim());var l={field:o,title:o};for(var r in n.columns)n.columns[r].field===o&&(l=t.extend(!0,{},n.columns[r],l));return a.push(l),o});n.columns=a;var l=[],r=[];t(i).find("tr").each(function(){t(this).find("td").length&&l.push(t(this).prop("attributes"));var a={};t(this).find("td").each(function(t,e){a[o[t]]=e.innerHTML.trim()}),e.isEmpty(a)||r.push(a)}),n.data.attr.rowProps=l,n.data.source=r},layoutUpdate:function(){o.setupSubDatatable.call(),o.setupSystemColumn.call(),o.setupHover.call(),void 0===n.detail&&1===o.getDepth()&&o.lockTable.call(),o.resetScroll(),o.isInit||(o.dropdownFix(),t(i).trigger("k-datatable--on-init",{table:t(i.wrap).attr("id"),options:n}),o.isInit=!0),t(i).trigger("k-datatable--on-layout-updated",{table:t(i.wrap).attr("id")})},lockTable:function(){var e={lockEnabled:!1,init:function(){e.lockEnabled=o.lockEnabledColumns(),0===e.lockEnabled.left.length&&0===e.lockEnabled.right.length||e.enable()},enable:function(){t(i.table).find("thead,tbody,tfoot").each(function(){var a=this;0===t(this).find(".k-datatable__lock").length&&t(this).ready(function(){!function(a){if(t(a).find(".k-datatable__lock").length>0)o.log("Locked container already exist in: ",a);else if(0!==t(a).find(".k-datatable__row").length){var n=t("<div/>").addClass("k-datatable__lock k-datatable__lock--left"),l=t("<div/>").addClass("k-datatable__lock k-datatable__lock--scroll"),r=t("<div/>").addClass("k-datatable__lock k-datatable__lock--right");t(a).find(".k-datatable__row").each(function(){var e=t("<tr/>").addClass("k-datatable__row").appendTo(n),a=t("<tr/>").addClass("k-datatable__row").appendTo(l),i=t("<tr/>").addClass("k-datatable__row").appendTo(r);t(this).find(".k-datatable__cell").each(function(){var n=t(this).data("locked");void 0!==n?(void 0===n.left&&!0!==n||t(this).appendTo(e),void 0!==n.right&&t(this).appendTo(i)):t(this).appendTo(a)}),t(this).remove()}),e.lockEnabled.left.length>0&&(t(i.wrap).addClass("k-datatable--lock"),t(n).appendTo(a)),(e.lockEnabled.left.length>0||e.lockEnabled.right.length>0)&&t(l).appendTo(a),e.lockEnabled.right.length>0&&(t(i.wrap).addClass("k-datatable--lock"),t(r).appendTo(a))}else o.log("No row exist in: ",a)}(a)})})}};return e.init(),e},fullRender:function(){t(i.tableHead).empty(),o.setHeadTitle(),o.getOption("layout.footer")&&(t(i.tableFoot).empty(),o.setHeadTitle(i.tableFoot)),o.spinnerCallback(!0),t(i.wrap).removeClass("k-datatable--loaded"),o.insertData()},lockEnabledColumns:function(){var a=t(window).width(),i=n.columns,o={left:[],right:[]};return t.each(i,function(t,n){void 0!==n.locked&&(void 0!==n.locked.left&&e.getBreakpoint(n.locked.left)<=a&&o.left.push(n.locked.left),void 0!==n.locked.right&&e.getBreakpoint(n.locked.right)<=a&&o.right.push(n.locked.right))}),o},afterRender:function(e,a){a.table==t(i.wrap).attr("id")&&t(i).ready(function(){o.isLocked()||(o.redraw(),o.isSubtable()||!0!==o.getOption("rows.autoHide")||o.autoHide(),t(i.table).find(".k-datatable__row").css("height","")),o.rowEvenOdd.call(),o.isLocked()&&o.redraw(),t(i.tableBody).css("visibility",""),t(i.wrap).addClass("k-datatable--loaded"),o.scrollbar.call(),o.spinnerCallback(!1),o.sorting.call()})},dropdownFix:function(){var e;t("body").on("show.bs.dropdown",".k-datatable .k-datatable__body",function(a){e=t(a.target).find(".dropdown-menu"),t("body").append(e.detach()),e.css("display","block"),e.position({my:"right top",at:"right bottom",of:t(a.relatedTarget)}),i.closest(".modal").length&&e.css("z-index","2000")}).on("hide.bs.dropdown",".k-datatable .k-datatable__body",function(a){t(a.target).append(e.detach()),e.hide()})},hoverTimer:0,isScrolling:!1,setupHover:function(){t(window).scroll(function(t){clearTimeout(o.hoverTimer),o.isScrolling=!0}),t(i.tableBody).find(".k-datatable__cell").off("mouseenter","mouseleave").on("mouseenter",function(){if(o.hoverTimer=setTimeout(function(){o.isScrolling=!1},200),!o.isScrolling){var e=t(this).closest(".k-datatable__row").addClass("k-datatable__row--hover"),a=t(e).index()+1;t(e).closest(".k-datatable__lock").parent().find(".k-datatable__row:nth-child("+a+")").addClass("k-datatable__row--hover")}}).on("mouseleave",function(){var e=t(this).closest(".k-datatable__row").removeClass("k-datatable__row--hover"),a=t(e).index()+1;t(e).closest(".k-datatable__lock").parent().find(".k-datatable__row:nth-child("+a+")").removeClass("k-datatable__row--hover")})},adjustLockContainer:function(){if(!o.isLocked())return 0;var e=t(i.tableHead).width(),a=t(i.tableHead).find(".k-datatable__lock--left").width(),n=t(i.tableHead).find(".k-datatable__lock--right").width();void 0===a&&(a=0),void 0===n&&(n=0);var l=Math.floor(e-a-n);return t(i.table).find(".k-datatable__lock--scroll").css("width",l),l},dragResize:function(){var e,a,n=!1,o=void 0;t(i.tableHead).find(".k-datatable__cell").mousedown(function(i){o=t(this),n=!0,e=i.pageX,a=t(this).width(),t(o).addClass("k-datatable__cell--resizing")}).mousemove(function(l){if(n){var r=t(o).index(),s=t(i.tableBody),d=t(o).closest(".k-datatable__lock");if(d){var c=t(d).index();s=t(i.tableBody).find(".k-datatable__lock").eq(c)}t(s).find(".k-datatable__row").each(function(n,i){t(i).find(".k-datatable__cell").eq(r).width(a+(l.pageX-e)).children().width(a+(l.pageX-e))}),t(o).children().css("width",a+(l.pageX-e))}}).mouseup(function(){t(o).removeClass("k-datatable__cell--resizing"),n=!1}),t(document).mouseup(function(){t(o).removeClass("k-datatable__cell--resizing"),n=!1})},initHeight:function(){if(n.layout.height&&n.layout.scroll){var e=t(i.tableHead).find(".k-datatable__row").outerHeight(),a=t(i.tableFoot).find(".k-datatable__row").outerHeight(),o=n.layout.height;e>0&&(o-=e),a>0&&(o-=a),o-=2,t(i.tableBody).css("max-height",o),t(i.tableBody).find(".k-datatable__lock--scroll").css("height",o)}},setupBaseDOM:function(){i.initialDatatable=t(i).clone(),"TABLE"===t(i).prop("tagName")?(i.table=t(i).removeClass("k-datatable").addClass("k-datatable__table"),0===t(i.table).parents(".k-datatable").length&&(i.table.wrap(t("<div/>").addClass("k-datatable").addClass("k-datatable--"+n.layout.theme)),i.wrap=t(i.table).parent())):(i.wrap=t(i).addClass("k-datatable").addClass("k-datatable--"+n.layout.theme),i.table=t("<table/>").addClass("k-datatable__table").appendTo(i)),void 0!==n.layout.class&&t(i.wrap).addClass(n.layout.class),t(i.table).removeClass("k-datatable--destroyed").css("display","block"),void 0===t(i).attr("id")&&(o.setOption("data.saveState",!1),t(i.table).attr("id",e.getUniqueID("k-datatable--"))),o.getOption("layout.minHeight")&&t(i.table).css("min-height",o.getOption("layout.minHeight")),o.getOption("layout.height")&&t(i.table).css("max-height",o.getOption("layout.height")),null===n.data.type&&t(i.table).css("width","").css("display",""),i.tableHead=t(i.table).find("thead"),0===t(i.tableHead).length&&(i.tableHead=t("<thead/>").prependTo(i.table)),i.tableBody=t(i.table).find("tbody"),0===t(i.tableBody).length&&(i.tableBody=t("<tbody/>").appendTo(i.table)),void 0!==n.layout.footer&&n.layout.footer&&(i.tableFoot=t(i.table).find("tfoot"),0===t(i.tableFoot).length&&(i.tableFoot=t("<tfoot/>").appendTo(i.table)))},setupCellField:function(e){void 0===e&&(e=t(i.table).children());var a=n.columns;t.each(e,function(e,n){t(n).find(".k-datatable__row").each(function(e,n){t(n).find(".k-datatable__cell").each(function(e,n){void 0!==a[e]&&t(n).data(a[e])})})})},setupTemplateCell:function(e){void 0===e&&(e=i.tableBody);var a=n.columns;t(e).find(".k-datatable__row").each(function(e,n){var l=t(n).data("obj")||{},r=o.getOption("rows.callback");"function"==typeof r&&r(t(n),l,e);var s=o.getOption("rows.beforeTemplate");"function"==typeof s&&s(t(n),l,e),void 0===l&&(l={},t(n).find(".k-datatable__cell").each(function(e,n){var i=t.grep(a,function(e,a){return t(n).data("field")===e.field})[0];void 0!==i&&(l[i.field]=t(n).text())})),t(n).find(".k-datatable__cell").each(function(n,r){var s=t.grep(a,function(e,a){return t(r).data("field")===e.field})[0];if(void 0!==s&&void 0!==s.template){var d="";"string"==typeof s.template&&(d=o.dataPlaceholder(s.template,l)),"function"==typeof s.template&&(d=s.template(l,e,i)),"undefined"!=typeof DOMPurify&&(d=DOMPurify.sanitize(d));var c=document.createElement("span");c.innerHTML=d,t(r).html(c),void 0!==s.overflow&&(t(c).css("overflow",s.overflow),t(c).css("position","relative"))}});var d=o.getOption("rows.afterTemplate");"function"==typeof d&&d(t(n),l,e)})},setupSystemColumn:function(){if(i.dataSet=i.dataSet||[],0!==i.dataSet.length){var e=n.columns;t(i.tableBody).find(".k-datatable__row").each(function(a,n){t(n).find(".k-datatable__cell").each(function(a,n){var i=t.grep(e,function(e,a){return t(n).data("field")===e.field})[0];if(void 0!==i){var l=t(n).text();if(void 0!==i.selector&&!1!==i.selector){if(t(n).find('.k-checkbox [type="checkbox"]').length>0)return;t(n).addClass("k-datatable__cell--check");var r=t("<label/>").addClass("k-checkbox k-checkbox--single").append(t("<input/>").attr("type","checkbox").attr("value",l).on("click",function(){t(this).is(":checked")?o.setActive(this):o.setInactive(this)})).append("&nbsp;<span></span>");void 0!==i.selector.class&&t(r).addClass(i.selector.class),t(n).children().html(r)}if(void 0!==i.subtable&&i.subtable){if(t(n).find(".k-datatable__toggle-subtable").length>0)return;t(n).children().html(t("<a/>").addClass("k-datatable__toggle-subtable").attr("href","#").attr("data-value",l).append(t("<i/>").addClass(o.getOption("layout.icons.rowDetail.collapse"))))}}})});var a=function(a){var n=t.grep(e,function(t,e){return void 0!==t.selector&&!1!==t.selector})[0];if(void 0!==n&&void 0!==n.selector&&!1!==n.selector){var i=t(a).find('[data-field="'+n.field+'"]');if(t(i).find('.k-checkbox [type="checkbox"]').length>0)return;t(i).addClass("k-datatable__cell--check");var l=t("<label/>").addClass("k-checkbox k-checkbox--single k-checkbox--all").append(t("<input/>").attr("type","checkbox").on("click",function(){t(this).is(":checked")?o.setActiveAll(!0):o.setActiveAll(!1)})).append("&nbsp;<span></span>");void 0!==n.selector.class&&t(l).addClass(n.selector.class),t(i).children().html(l)}};n.layout.header&&a(t(i.tableHead).find(".k-datatable__row").first()),n.layout.footer&&a(t(i.tableFoot).find(".k-datatable__row").first())}},adjustCellsWidth:function(){var e=t(i.tableBody).innerWidth()-o.iconOffset,a=t(i.tableBody).find(".k-datatable__row:first-child").find(".k-datatable__cell").not(".k-datatable__toggle-detail").not(":hidden").length;if(a>0){e-=o.iconOffset*a;var n=Math.floor(e/a);n<=o.cellOffset&&(n=o.cellOffset),t(i.table).find(".k-datatable__row").find(".k-datatable__cell").not(".k-datatable__toggle-detail").not(":hidden").each(function(e,a){var i=n,o=t(a).data("width");void 0!==o&&(i=o),t(a).children().css("width",Math.ceil(i))})}return i},adjustCellsHeight:function(){t.each(t(i.table).children(),function(e,a){for(var n=t(a).find(".k-datatable__row").first().parent().find(".k-datatable__row").length,i=1;i<=n;i++){var o=t(a).find(".k-datatable__row:nth-child("+i+")");if(t(o).length>0){var l=Math.max.apply(null,t(o).map(function(){return t(this).outerHeight()}).get());t(o).css("height",Math.ceil(l))}}})},setupDOM:function(e){t(e).find("> thead").addClass("k-datatable__head"),t(e).find("> tbody").addClass("k-datatable__body"),t(e).find("> tfoot").addClass("k-datatable__foot"),t(e).find("tr").addClass("k-datatable__row"),t(e).find("tr > th, tr > td").addClass("k-datatable__cell"),t(e).find("tr > th, tr > td").each(function(e,a){0===t(a).find("span").length&&t(a).wrapInner(t("<span/>").css("width",o.cellOffset))})},scrollbar:function(){var a={scrollable:null,tableLocked:null,initPosition:null,init:function(){var l=e.getViewPort().width;if(n.layout.scroll){t(i.wrap).addClass("k-datatable--scroll");var r=t(i.tableBody).find(".k-datatable__lock--scroll");t(r).find(".k-datatable__row").length>0&&t(r).length>0?(a.scrollHead=t(i.tableHead).find("> .k-datatable__lock--scroll > .k-datatable__row"),a.scrollFoot=t(i.tableFoot).find("> .k-datatable__lock--scroll > .k-datatable__row"),a.tableLocked=t(i.tableBody).find(".k-datatable__lock:not(.k-datatable__lock--scroll)"),o.getOption("layout.customScrollbar")&&10!=e.detectIE()&&l>e.getBreakpoint("lg")?a.initCustomScrollbar(r[0]):a.initDefaultScrollbar(r)):t(i.tableBody).find(".k-datatable__row").length>0&&(a.scrollHead=t(i.tableHead).find("> .k-datatable__row"),a.scrollFoot=t(i.tableFoot).find("> .k-datatable__row"),o.getOption("layout.customScrollbar")&&10!=e.detectIE()&&l>e.getBreakpoint("lg")?a.initCustomScrollbar(i.tableBody):a.initDefaultScrollbar(i.tableBody))}},initDefaultScrollbar:function(e){a.initPosition=t(e).scrollLeft(),t(e).css("overflow","auto").off().on("scroll",a.onScrolling)},onScrolling:function(n){var i=t(this).scrollLeft(),l=t(this).scrollTop();e.isRTL()&&(i-=a.initPosition),t(a.scrollHead).css("left",-i),t(a.scrollFoot).css("left",-i),t(a.tableLocked).each(function(e,a){o.isLocked()&&(l-=1),t(a).css("top",-l)})},initCustomScrollbar:function(e){a.scrollable=e,o.initScrollbar(e),a.initPosition=t(e).scrollLeft(),t(e).off().on("scroll",a.onScrolling)}};return a.init(),a},initScrollbar:function(a,n){if(t(i.tableBody).css("overflow",""),e.hasClass(a,"ps"))t(a).data("ps").update();else{var o=new PerfectScrollbar(a);t(a).data("ps",o),t(window).resize(function(){o.update()})}},setHeadTitle:function(a){void 0===a&&(a=i.tableHead),a=t(a)[0];var l=n.columns,r=a.getElementsByTagName("tr")[0],s=a.getElementsByTagName("td");void 0===r&&(r=document.createElement("tr"),a.appendChild(r)),t.each(l,function(a,n){var o=s[a];if(void 0===o&&(o=document.createElement("th"),r.appendChild(o)),void 0!==n.title&&(o.innerHTML=n.title,o.setAttribute("data-field",n.field),e.addClass(o,n.class),void 0!==n.autoHide&&(!0!==n.autoHide?o.setAttribute("data-autohide-disabled",n.autoHide):o.setAttribute("data-autohide-enabled",n.autoHide)),t(o).data(n)),void 0!==n.attr&&t.each(n.attr,function(t,e){o.setAttribute(t,e)}),void 0!==n.textAlign){var l=void 0!==i.textAlign[n.textAlign]?i.textAlign[n.textAlign]:"";e.addClass(o,l)}}),o.setupDOM(a)},dataRender:function(e){t(i.table).siblings(".k-datatable__pager").removeClass("k-datatable--paging-loaded");var a=function(){i.dataSet=i.dataSet||[],o.localDataUpdate();var e=o.getDataSourceParam("pagination");0===e.perpage&&(e.perpage=n.data.pageSize||10),e.total=i.dataSet.length;var a=Math.max(e.perpage*(e.page-1),0),l=Math.min(a+e.perpage,e.total);return i.dataSet=t(i.dataSet).slice(a,l),e},l=function(e){var l=function(e,a){t(e.pager).hasClass("k-datatable--paging-loaded")||(t(e.pager).remove(),e.init(a)),t(e.pager).off().on("k-datatable--on-goto-page",function(n){t(e.pager).remove(),e.init(a)});var n=Math.max(a.perpage*(a.page-1),0),l=Math.min(n+a.perpage,a.total);o.localDataUpdate(),i.dataSet=t(i.dataSet).slice(n,l),o.insertData()};if(t(i.wrap).removeClass("k-datatable--error"),n.pagination)if(n.data.serverPaging&&"local"!==n.data.type){var r=o.getObject("meta",e||null);null!==r?o.paging(r):o.paging(a(),l)}else o.paging(a(),l);else o.localDataUpdate();o.insertData()};"local"===n.data.type||!1===n.data.serverSorting&&"sort"===e||!1===n.data.serverFiltering&&"search"===e?l():o.getData().done(l)},insertData:function(){i.dataSet=i.dataSet||[];var a=o.getDataSourceParam(),l=a.pagination,r=(Math.max(l.page,1)-1)*l.perpage,s=Math.min(l.page,l.pages)*l.perpage,d={};void 0!==n.data.attr.rowProps&&n.data.attr.rowProps.length&&(d=n.data.attr.rowProps.slice(r,s));var c=document.createElement("tbody");c.style.visibility="hidden";var u=n.columns.length;if(t.each(i.dataSet,function(l,r){var s=document.createElement("tr");s.setAttribute("data-row",l),t(s).data("obj",r),void 0!==d[l]&&t.each(d[l],function(){s.setAttribute(this.name,this.value)});for(var p=0;p<u;p+=1){var f=n.columns[p],g=[];if(o.getObject("sort.field",a)===f.field&&g.push("k-datatable__cell--sorted"),void 0!==f.textAlign){var h=void 0!==i.textAlign[f.textAlign]?i.textAlign[f.textAlign]:"";g.push(h)}void 0!==f.class&&g.push(f.class);var m=document.createElement("td");e.addClass(m,g.join(" ")),m.setAttribute("data-field",f.field),void 0!==f.autoHide&&(!0!==f.autoHide?m.setAttribute("data-autohide-disabled",f.autoHide):m.setAttribute("data-autohide-enabled",f.autoHide)),m.innerHTML=o.getObject(f.field,r),s.appendChild(m)}c.appendChild(s)}),0===i.dataSet.length){var p=document.createElement("span");e.addClass(p,"k-datatable--error"),p.innerHTML=o.getOption("translate.records.noRecords"),c.appendChild(p),t(i.wrap).addClass("k-datatable--error k-datatable--loaded"),o.spinnerCallback(!1)}t(i.tableBody).replaceWith(c),i.tableBody=c,o.setupDOM(i.table),o.setupCellField([i.tableBody]),o.setupTemplateCell(i.tableBody),o.layoutUpdate()},updateTableComponents:function(){i.tableHead=t(i.table).children("thead"),i.tableBody=t(i.table).children("tbody"),i.tableFoot=t(i.table).children("tfoot")},getData:function(){var e={dataType:"json",method:"GET",data:{},timeout:o.getOption("data.source.read.timeout")||3e4};if("local"===n.data.type&&(e.url=n.data.source),"remote"===n.data.type){e.url=o.getOption("data.source.read.url"),"string"!=typeof e.url&&(e.url=o.getOption("data.source.read")),"string"!=typeof e.url&&(e.url=o.getOption("data.source")),e.headers=o.getOption("data.source.read.headers"),e.method=o.getOption("data.source.read.method")||"POST";var a=o.getDataSourceParam();o.getOption("data.serverPaging")||delete a.pagination,o.getOption("data.serverSorting")||delete a.sort,e.data=t.extend({},e.data,a,o.getOption("data.source.read.params"))}return t.ajax(e).done(function(e,a,n){i.lastResponse=e,i.dataSet=i.originalDataSet=o.dataMapCallback(e),o.setAutoColumns(),t(i).trigger("k-datatable--on-ajax-done",[i.dataSet])}).fail(function(e,a,n){t(i).trigger("k-datatable--on-ajax-fail",[e]),t(i.tableBody).html(t("<span/>").addClass("k-datatable--error").html(o.getOption("translate.records.noRecords"))),t(i.wrap).addClass("k-datatable--error k-datatable--loaded"),o.spinnerCallback(!1)}).always(function(){})},paging:function(a,n){var l={meta:null,pager:null,paginateEvent:null,pagerLayout:{pagination:null,info:null},callback:null,init:function(e){l.meta=e,l.meta.page=parseInt(l.meta.page),l.meta.pages=parseInt(l.meta.pages),l.meta.perpage=parseInt(l.meta.perpage),l.meta.total=parseInt(l.meta.total),l.meta.pages=Math.max(Math.ceil(l.meta.total/l.meta.perpage),1),l.meta.page>l.meta.pages&&(l.meta.page=l.meta.pages),l.paginateEvent=o.getTablePrefix(),l.pager=t(i.table).siblings(".k-datatable__pager"),t(l.pager).hasClass("k-datatable--paging-loaded")||(t(l.pager).remove(),0!==l.meta.pages&&(o.setDataSourceParam("pagination",{page:l.meta.page,pages:l.meta.pages,perpage:l.meta.perpage,total:l.meta.total}),l.callback=l.serverCallback,"function"==typeof n&&(l.callback=n),l.addPaginateEvent(),l.populate(),l.meta.page=Math.max(l.meta.page||1,l.meta.page),t(i).trigger(l.paginateEvent,l.meta),l.pagingBreakpoint.call(),t(window).resize(l.pagingBreakpoint)))},serverCallback:function(t,e){o.dataRender()},populate:function(){var e=o.getOption("layout.icons.pagination"),a=o.getOption("translate.toolbar.pagination.items.default");l.pager=t("<div/>").addClass("k-datatable__pager k-datatable--paging-loaded clearfix");var n=t("<ul/>").addClass("k-datatable__pager-nav");l.pagerLayout.pagination=n,t("<li/>").append(t("<a/>").attr("title",a.first).addClass("k-datatable__pager-link k-datatable__pager-link--first").append(t("<i/>").addClass(e.first)).on("click",l.gotoMorePage).attr("data-page",1)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.prev).addClass("k-datatable__pager-link k-datatable__pager-link--prev").append(t("<i/>").addClass(e.prev)).on("click",l.gotoMorePage)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.more).addClass("k-datatable__pager-link k-datatable__pager-link--more-prev").html(t("<i/>").addClass(e.more)).on("click",l.gotoMorePage)).appendTo(n),t("<li/>").append(t("<input/>").attr("type","text").addClass("k-pager-input form-control").attr("title",a.input).on("keyup",function(){t(this).attr("data-page",Math.abs(t(this).val()))}).on("keypress",function(t){13===t.which&&l.gotoMorePage(t)})).appendTo(n);var r=o.getOption("toolbar.items.pagination.pages.desktop.pagesNumber"),s=Math.ceil(l.meta.page/r)*r,d=s-r;s>l.meta.pages&&(s=l.meta.pages);for(var c=d;c<s;c++){var u=c+1;t("<li/>").append(t("<a/>").addClass("k-datatable__pager-link k-datatable__pager-link-number").text(u).attr("data-page",u).attr("title",u).on("click",l.gotoPage)).appendTo(n)}t("<li/>").append(t("<a/>").attr("title",a.more).addClass("k-datatable__pager-link k-datatable__pager-link--more-next").html(t("<i/>").addClass(e.more)).on("click",l.gotoMorePage)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.next).addClass("k-datatable__pager-link k-datatable__pager-link--next").append(t("<i/>").addClass(e.next)).on("click",l.gotoMorePage)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.last).addClass("k-datatable__pager-link k-datatable__pager-link--last").append(t("<i/>").addClass(e.last)).on("click",l.gotoMorePage).attr("data-page",l.meta.pages)).appendTo(n),o.getOption("toolbar.items.info")&&(l.pagerLayout.info=t("<div/>").addClass("k-datatable__pager-info").append(t("<span/>").addClass("k-datatable__pager-detail"))),t.each(o.getOption("toolbar.layout"),function(e,a){t(l.pagerLayout[a]).appendTo(l.pager)});var p=t("<select/>").addClass("selectpicker k-datatable__pager-size").attr("title",o.getOption("translate.toolbar.pagination.items.default.select")).attr("data-width","70px").val(l.meta.perpage).on("change",l.updatePerpage).prependTo(l.pagerLayout.info),f=o.getOption("toolbar.items.pagination.pageSizeSelect");0==f.length&&(f=[10,20,30,50,100]),t.each(f,function(e,a){var n=a;-1===a&&(n="All"),t("<option/>").attr("value",a).html(n).appendTo(p)}),t(i).ready(function(){t(".selectpicker").selectpicker().on("hide.bs.select",function(){t(this).closest(".bootstrap-select").removeClass("dropup")}).siblings(".dropdown-toggle").attr("title",o.getOption("translate.toolbar.pagination.items.default.select"))}),l.paste()},paste:function(){t.each(t.unique(o.getOption("toolbar.placement")),function(e,a){"bottom"===a&&t(l.pager).clone(!0).insertAfter(i.table),"top"===a&&t(l.pager).clone(!0).addClass("k-datatable__pager--top").insertBefore(i.table)})},gotoMorePage:function(e){if(e.preventDefault(),"disabled"===t(this).attr("disabled"))return!1;var a=t(this).attr("data-page");return void 0===a&&(a=t(e.target).attr("data-page")),l.openPage(parseInt(a)),!1},gotoPage:function(e){e.preventDefault(),t(this).hasClass("k-datatable__pager-link--active")||l.openPage(parseInt(t(this).data("page")))},openPage:function(e){l.meta.page=parseInt(e),t(i).trigger(l.paginateEvent,l.meta),l.callback(l,l.meta),t(l.pager).trigger("k-datatable--on-goto-page",l.meta)},updatePerpage:function(e){e.preventDefault(),l.pager=t(i.table).siblings(".k-datatable__pager").removeClass("k-datatable--paging-loaded"),e.originalEvent&&(l.meta.perpage=parseInt(t(this).val())),t(l.pager).find("select.k-datatable__pager-size").val(l.meta.perpage).attr("data-selected",l.meta.perpage),o.setDataSourceParam("pagination",{page:l.meta.page,pages:l.meta.pages,perpage:l.meta.perpage,total:l.meta.total}),t(l.pager).trigger("k-datatable--on-update-perpage",l.meta),t(i).trigger(l.paginateEvent,l.meta),l.callback(l,l.meta),l.updateInfo.call()},addPaginateEvent:function(e){t(i).off(l.paginateEvent).on(l.paginateEvent,function(e,a){o.spinnerCallback(!0),l.pager=t(i.table).siblings(".k-datatable__pager");var n=t(l.pager).find(".k-datatable__pager-nav");t(n).find(".k-datatable__pager-link--active").removeClass("k-datatable__pager-link--active"),t(n).find('.k-datatable__pager-link-number[data-page="'+a.page+'"]').addClass("k-datatable__pager-link--active"),t(n).find(".k-datatable__pager-link--prev").attr("data-page",Math.max(a.page-1,1)),t(n).find(".k-datatable__pager-link--next").attr("data-page",Math.min(a.page+1,a.pages)),t(l.pager).each(function(){t(this).find('.k-pager-input[type="text"]').prop("value",a.page)}),t(l.pager).find(".k-datatable__pager-nav").show(),a.pages<=1&&t(l.pager).find(".k-datatable__pager-nav").hide(),o.setDataSourceParam("pagination",{page:l.meta.page,pages:l.meta.pages,perpage:l.meta.perpage,total:l.meta.total}),t(l.pager).find("select.k-datatable__pager-size").val(a.perpage).attr("data-selected",a.perpage),t(i.table).find('.k-checkbox > [type="checkbox"]').prop("checked",!1),t(i.table).find(".k-datatable__row--active").removeClass("k-datatable__row--active"),l.updateInfo.call(),l.pagingBreakpoint.call()})},updateInfo:function(){var e=Math.max(l.meta.perpage*(l.meta.page-1)+1,1),a=Math.min(e+l.meta.perpage-1,l.meta.total);t(l.pager).find(".k-datatable__pager-info").find(".k-datatable__pager-detail").html(o.dataPlaceholder(o.getOption("translate.toolbar.pagination.items.info"),{start:e,end:-1===l.meta.perpage?l.meta.total:a,pageSize:-1===l.meta.perpage||l.meta.perpage>=l.meta.total?l.meta.total:l.meta.perpage,total:l.meta.total}))},pagingBreakpoint:function(){var a=t(i.table).siblings(".k-datatable__pager").find(".k-datatable__pager-nav");if(0!==t(a).length){var n=o.getCurrentPage(),r=t(a).find(".k-pager-input").closest("li");t(a).find("li").show(),t.each(o.getOption("toolbar.items.pagination.pages"),function(i,s){if(e.isInResponsiveRange(i)){switch(i){case"desktop":case"tablet":Math.ceil(n/s.pagesNumber),s.pagesNumber,s.pagesNumber;t(r).hide(),l.meta=o.getDataSourceParam("pagination"),l.paginationUpdate();break;case"mobile":t(r).show(),t(a).find(".k-datatable__pager-link--more-prev").closest("li").hide(),t(a).find(".k-datatable__pager-link--more-next").closest("li").hide(),t(a).find(".k-datatable__pager-link-number").closest("li").hide()}return!1}})}},paginationUpdate:function(){var e=t(i.table).siblings(".k-datatable__pager").find(".k-datatable__pager-nav"),a=t(e).find(".k-datatable__pager-link--more-prev"),n=t(e).find(".k-datatable__pager-link--more-next"),r=t(e).find(".k-datatable__pager-link--first"),s=t(e).find(".k-datatable__pager-link--prev"),d=t(e).find(".k-datatable__pager-link--next"),c=t(e).find(".k-datatable__pager-link--last"),u=t(e).find(".k-datatable__pager-link-number"),p=Math.max(t(u).first().data("page")-1,1);t(a).each(function(e,a){t(a).attr("data-page",p)}),1===p?t(a).parent().hide():t(a).parent().show();var f=Math.min(t(u).last().data("page")+1,l.meta.pages);t(n).each(function(e,a){t(n).attr("data-page",f).show()}),f===l.meta.pages&&f===t(u).last().data("page")?t(n).parent().hide():t(n).parent().show(),1===l.meta.page?(t(r).attr("disabled",!0).addClass("k-datatable__pager-link--disabled"),t(s).attr("disabled",!0).addClass("k-datatable__pager-link--disabled")):(t(r).removeAttr("disabled").removeClass("k-datatable__pager-link--disabled"),t(s).removeAttr("disabled").removeClass("k-datatable__pager-link--disabled")),l.meta.page===l.meta.pages?(t(d).attr("disabled",!0).addClass("k-datatable__pager-link--disabled"),t(c).attr("disabled",!0).addClass("k-datatable__pager-link--disabled")):(t(d).removeAttr("disabled").removeClass("k-datatable__pager-link--disabled"),t(c).removeAttr("disabled").removeClass("k-datatable__pager-link--disabled"));var g=o.getOption("toolbar.items.pagination.navigation");g.first||t(r).remove(),g.prev||t(s).remove(),g.next||t(d).remove(),g.last||t(c).remove()}};return l.init(a),l},columnHide:function(){var a=e.getViewPort().width;t.each(n.columns,function(n,o){if(void 0!==o.responsive){var l=o.field,r=t.grep(t(i.table).find(".k-datatable__cell"),function(e,a){return l===t(e).data("field")});e.getBreakpoint(o.responsive.hidden)>=a?t(r).hide():t(r).show(),e.getBreakpoint(o.responsive.visible)<=a?t(r).show():t(r).hide()}})},setupSubDatatable:function(){var e=o.getOption("detail.content");if("function"==typeof e&&!(t(i.table).find(".k-datatable__subtable").length>0)){t(i.wrap).addClass("k-datatable--subtable"),n.columns[0].subtable=!0;var a=function(a){a.preventDefault();var l=t(this).closest(".k-datatable__row"),r=t(l).next(".k-datatable__row-subtable");0===t(r).length&&(r=t("<tr/>").addClass("k-datatable__row-subtable k-datatable__row-loading").hide().append(t("<td/>").addClass("k-datatable__subtable").attr("colspan",o.getTotalColumns())),t(l).after(r),t(l).hasClass("k-datatable__row--even")&&t(r).addClass("k-datatable__row-subtable--even")),t(r).toggle();var s=t(r).find(".k-datatable__subtable"),d=t(this).closest("[data-field]:first-child").find(".k-datatable__toggle-subtable").data("value"),c=t(this).find("i").removeAttr("class");t(l).hasClass("k-datatable__row--subtable-expanded")?(t(c).addClass(o.getOption("layout.icons.rowDetail.collapse")),t(l).removeClass("k-datatable__row--subtable-expanded"),t(i).trigger("k-datatable--on-collapse-subtable",[l])):(t(c).addClass(o.getOption("layout.icons.rowDetail.expand")),t(l).addClass("k-datatable__row--subtable-expanded"),t(i).trigger("k-datatable--on-expand-subtable",[l])),0===t(s).find(".k-datatable").length&&(t.map(i.dataSet,function(t,e){return d===t[n.columns[0].field]&&(a.data=t,!0)}),a.detailCell=s,a.parentRow=l,a.subTable=s,e(a),t(s).children(".k-datatable").on("k-datatable--on-init",function(e){t(r).removeClass("k-datatable__row-loading")}),"local"===o.getOption("data.type")&&t(r).removeClass("k-datatable__row-loading"))},l=n.columns;t(i.tableBody).find(".k-datatable__row").each(function(e,n){t(n).find(".k-datatable__cell").each(function(e,n){var i=t.grep(l,function(e,a){return t(n).data("field")===e.field})[0];if(void 0!==i){var r=t(n).text();if(void 0!==i.subtable&&i.subtable){if(t(n).find(".k-datatable__toggle-subtable").length>0)return;t(n).html(t("<a/>").addClass("k-datatable__toggle-subtable").attr("href","#").attr("data-value",r).attr("title",o.getOption("detail.title")).on("click",a).append(t("<i/>").css("width",t(n).data("width")).addClass(o.getOption("layout.icons.rowDetail.collapse"))))}}})})}},dataMapCallback:function(t){var e=t;return"function"==typeof o.getOption("data.source.read.map")?o.getOption("data.source.read.map")(t):(void 0!==t&&void 0!==t.data&&(e=t.data),e)},isSpinning:!1,spinnerCallback:function(t,e){void 0===e&&(e=i);var n=o.getOption("layout.spinner");void 0!==n&&n&&(t?o.isSpinning||(void 0!==n.message&&!0===n.message&&(n.message=o.getOption("translate.records.processing")),o.isSpinning=!0,void 0!==a&&a.block(e,n)):(o.isSpinning=!1,void 0!==a&&a.unblock(e)))},sortCallback:function(e,a,n){var i=n.type||"string",o=n.format||"",l=n.field;return t(e).sort(function(t,e){var n=t[l],r=e[l];switch(i){case"date":if("undefined"==typeof moment)throw new Error("Moment.js is required.");var s=moment(n,o).diff(moment(r,o));return"asc"===a?s>0?1:s<0?-1:0:s<0?1:s>0?-1:0;case"number":return isNaN(parseFloat(n))&&null!=n&&(n=Number(n.replace(/[^0-9\.-]+/g,""))),isNaN(parseFloat(r))&&null!=r&&(r=Number(r.replace(/[^0-9\.-]+/g,""))),n=parseFloat(n),r=parseFloat(r),"asc"===a?n>r?1:n<r?-1:0:n<r?1:n>r?-1:0;case"string":default:return"asc"===a?n>r?1:n<r?-1:0:n<r?1:n>r?-1:0}})},log:function(t,e){void 0===e&&(e=""),i.debug&&console.log(t,e)},autoHide:function(){var e=!1;t(i.table).find(".k-datatable__cell").show();var a=t(i.table).find("[data-autohide-enabled]");if(a.length&&(e=!0,a.hide()),t(i.tableBody).each(function(){for(;t(this)[0].offsetWidth<t(this)[0].scrollWidth;)t(i.table).find(".k-datatable__row").each(function(a){var n=t(this).find(".k-datatable__cell").not(":hidden").not("[data-autohide-disabled]").last();t(n).hide(),e=!0})}),e){var l=function(e){e.preventDefault();var a=t(this).closest(".k-datatable__row"),i=t(a).next();if(t(i).hasClass("k-datatable__row-detail"))t(this).find("i").removeClass(o.getOption("layout.icons.rowDetail.expand")).addClass(o.getOption("layout.icons.rowDetail.collapse")),t(i).remove();else{t(this).find("i").removeClass(o.getOption("layout.icons.rowDetail.collapse")).addClass(o.getOption("layout.icons.rowDetail.expand"));var l=t(a).find(".k-datatable__cell:hidden").clone().show();i=t("<tr/>").addClass("k-datatable__row-detail").insertAfter(a);var r=t("<td/>").addClass("k-datatable__detail").attr("colspan",o.getTotalColumns()).appendTo(i),s=t("<table/>");t(l).each(function(){var e=t(this).data("field"),a=t.grep(n.columns,function(t,a){return e===t.field})[0];t(s).append(t('<tr class="k-datatable__row"></tr>').append(t('<td class="k-datatable__cell"></td>').append(t("<span/>").append(a.title))).append(this))}),t(r).append(s)}};t(i.tableBody).find(".k-datatable__row").each(function(){t(this).prepend(t("<td/>").addClass("k-datatable__cell k-datatable__toggle-detail").append(t("<a/>").addClass("k-datatable__toggle-detail").attr("href","").on("click",l).append('<i class="'+o.getOption("layout.icons.rowDetail.collapse")+'"></i>'))),0===t(i.tableHead).find(".k-datatable__toggle-detail").length?(t(i.tableHead).find(".k-datatable__row").first().prepend('<th class="k-datatable__cell k-datatable__toggle-detail"><span></span></th>'),t(i.tableFoot).find(".k-datatable__row").first().prepend('<th class="k-datatable__cell k-datatable__toggle-detail"><span></span></th>')):t(i.tableHead).find(".k-datatable__toggle-detail").find("span")}),o.adjustCellsWidth.call()}},hoverColumn:function(){t(i.tableBody).on("mouseenter",".k-datatable__cell",function(){var e=t(o.cell(this).nodes()).index();t(o.cells().nodes()).removeClass("k-datatable__cell--hover"),t(o.column(e).nodes()).addClass("k-datatable__cell--hover")})},setAutoColumns:function(){o.getOption("data.autoColumns")&&(t.each(i.dataSet[0],function(e,a){0===t.grep(n.columns,function(t,a){return e===t.field}).length&&n.columns.push({field:e,title:e})}),t(i.tableHead).find(".k-datatable__row").remove(),o.setHeadTitle(),o.getOption("layout.footer")&&(t(i.tableFoot).find(".k-datatable__row").remove(),o.setHeadTitle(i.tableFoot)))},isLocked:function(){return e.hasClass(i.wrap[0],"k-datatable--lock")||!1},isSubtable:function(){return e.hasClass(i.wrap[0],"k-datatable--subtable")||!1},getExtraSpace:function(e){return parseInt(t(e).css("paddingRight"))+parseInt(t(e).css("paddingLeft"))+(parseInt(t(e).css("marginRight"))+parseInt(t(e).css("marginLeft")))+Math.ceil(t(e).css("border-right-width").replace("px",""))},dataPlaceholder:function(e,a){var n=e;return t.each(a,function(t,e){n=n.replace("{{"+t+"}}",e)}),n},getTableId:function(e){void 0===e&&(e="");var a=t(i).attr("id");return void 0===a&&(a=t(i).attr("class").split(" ")[0]),a+e},getTablePrefix:function(t){return void 0!==t&&(t="-"+t),o.getTableId()+"-"+o.getDepth()+t},getDepth:function(){var e=0,a=i.table;do{a=t(a).parents(".k-datatable__table"),e++}while(t(a).length>0);return e},stateKeep:function(t,e){t=o.getTablePrefix(t),!1!==o.getOption("data.saveState")&&(o.getOption("data.saveState.webstorage")&&localStorage&&localStorage.setItem(t,JSON.stringify(e)),o.getOption("data.saveState.cookie")&&Cookies.set(t,JSON.stringify(e)))},stateGet:function(t,e){if(t=o.getTablePrefix(t),!1!==o.getOption("data.saveState")){var a=null;return null!=(a=o.getOption("data.saveState.webstorage")&&localStorage?localStorage.getItem(t):Cookies.get(t))?JSON.parse(a):void 0}},stateUpdate:function(e,a){var n=o.stateGet(e);null==n&&(n={}),o.stateKeep(e,t.extend({},n,a))},stateRemove:function(t){t=o.getTablePrefix(t),localStorage&&localStorage.removeItem(t),Cookies.remove(t)},getTotalColumns:function(e){return void 0===e&&(e=i.tableBody),t(e).find(".k-datatable__row").first().find(".k-datatable__cell").length},getOneRow:function(e,a,n){void 0===n&&(n=!0);var i=t(e).find(".k-datatable__row:not(.k-datatable__row-detail):nth-child("+a+")");return n&&(i=i.find(".k-datatable__cell")),i},hasOverflowY:function(e){var a=t(e).find(".k-datatable__row"),n=0;return a.length>0&&(t(a).each(function(e,a){n+=Math.floor(t(a).innerHeight())}),n>t(e).innerHeight())},sortColumn:function(e,a,n){void 0===a&&(a="asc"),void 0===n&&(n=!1);var o=t(e).index(),l=t(i.tableBody).find(".k-datatable__row"),r=t(e).closest(".k-datatable__lock").index();-1!==r&&(l=t(i.tableBody).find(".k-datatable__lock:nth-child("+(r+1)+")").find(".k-datatable__row"));var s=t(l).parent();t(l).sort(function(e,i){var l=t(e).find("td:nth-child("+o+")").text(),r=t(i).find("td:nth-child("+o+")").text();return n&&(l=parseInt(l),r=parseInt(r)),"asc"===a?l>r?1:l<r?-1:0:l<r?1:l>r?-1:0}).appendTo(s)},sorting:function(){var a={init:function(){n.sortable&&(t(i.tableHead).find(".k-datatable__cell:not(.k-datatable__cell--check)").addClass("k-datatable__cell--sort").off("click").on("click",a.sortClick),a.setIcon())},setIcon:function(){var e=o.getDataSourceParam("sort");if(!t.isEmptyObject(e)){var a=o.getColumnByField(e.field);if(void 0===a.sortable||!1!==a.sortable){var n=t(i.tableHead).find('.k-datatable__cell[data-field="'+e.field+'"]').attr("data-sort",e.sort),l=t(n).find("span"),r=t(l).find("i"),s=o.getOption("layout.icons.sort");t(r).length>0?t(r).removeAttr("class").addClass(s[e.sort]):t(l).append(t("<i/>").addClass(s[e.sort])),t(n).addClass("k-datatable__cell--sorted")}}},sortClick:function(l){var r=o.getDataSourceParam("sort"),s=t(this).data("field"),d=o.getColumnByField(s);if((void 0===d.sortable||!1!==d.sortable)&&(t(i.tableHead).find("th").removeClass("k-datatable__cell--sorted"),e.addClass(this,"k-datatable__cell--sorted"),t(i.tableHead).find(".k-datatable__cell > span > i").remove(),n.sortable)){o.spinnerCallback(!0);var c="desc";o.getObject("field",r)===s&&(c=o.getObject("sort",r)),r={field:s,sort:c=void 0===c||"desc"===c?"asc":"desc"},o.setDataSourceParam("sort",r),a.setIcon(),setTimeout(function(){o.dataRender("sort"),t(i).trigger("k-datatable--on-sort",r)},300)}}};a.init()},localDataUpdate:function(){var e=o.getDataSourceParam();void 0===i.originalDataSet&&(i.originalDataSet=i.dataSet);var a=o.getObject("sort.field",e),n=o.getObject("sort.sort",e),l=o.getColumnByField(a);if(void 0!==l&&!0!==o.getOption("data.serverSorting")?"function"==typeof l.sortCallback?i.dataSet=l.sortCallback(i.originalDataSet,n,l):i.dataSet=o.sortCallback(i.originalDataSet,n,l):i.dataSet=i.originalDataSet,"object"==typeof e.query&&!o.getOption("data.serverFiltering")){e.query=e.query||{};var r=function(t){for(var e in t)if(t.hasOwnProperty(e))if("string"==typeof t[e]){if(t[e].toLowerCase()==s||-1!==t[e].toLowerCase().indexOf(s))return!0}else if("number"==typeof t[e]){if(t[e]===s)return!0}else if("object"==typeof t[e])return r(t[e]);return!1},s=t(o.getOption("search.input")).val();void 0!==s&&""!==s&&(s=s.toLowerCase(),i.dataSet=t.grep(i.dataSet,r),delete e.query[o.getGeneralSearchKey()]),t.each(e.query,function(t,a){""===a&&delete e.query[t]}),i.dataSet=o.filterArray(i.dataSet,e.query),i.dataSet=i.dataSet.filter(function(){return!0})}return i.dataSet},filterArray:function(e,a,n){if("object"!=typeof e)return[];if(void 0===n&&(n="AND"),"object"!=typeof a)return e;if(n=n.toUpperCase(),-1===t.inArray(n,["AND","OR","NOT"]))return[];var i=Object.keys(a).length,l=[];return t.each(e,function(e,r){var s=r,d=0;t.each(a,function(t,e){e=e instanceof Array?e:[e];var a=o.getObject(t,s);if(void 0!==a){var n=a.toString().toLowerCase();e.forEach(function(t,e){t.toString().toLowerCase()!=n&&-1===n.indexOf(t.toString().toLowerCase())||d++})}}),("AND"==n&&d==i||"OR"==n&&d>0||"NOT"==n&&0==d)&&(l[e]=r)}),e=l},resetScroll:function(){void 0===n.detail&&1===o.getDepth()&&(t(i.table).find(".k-datatable__row").css("left",0),t(i.table).find(".k-datatable__lock").css("top",0),t(i.tableBody).scrollTop(0))},getColumnByField:function(e){var a;if(void 0!==e)return t.each(n.columns,function(t,n){if(e===n.field)return a=n,!1}),a},getDefaultSortColumn:function(){var e;return t.each(n.columns,function(a,n){if(void 0!==n.sortable&&-1!==t.inArray(n.sortable,["asc","desc"]))return e={sort:n.sortable,field:n.field},!1}),e},getHiddenDimensions:function(e,a){var n={position:"absolute",visibility:"hidden",display:"block"},i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},o=t(e).parents().addBack().not(":visible");a="boolean"==typeof a&&a;var l=[];return o.each(function(){var t={};for(var e in n)t[e]=this.style[e],this.style[e]=n[e];l.push(t)}),i.width=t(e).width(),i.outerWidth=t(e).outerWidth(a),i.innerWidth=t(e).innerWidth(),i.height=t(e).height(),i.innerHeight=t(e).innerHeight(),i.outerHeight=t(e).outerHeight(a),o.each(function(t){var e=l[t];for(var a in n)this.style[a]=e[a]}),i},getGeneralSearchKey:function(){var e=t(o.getOption("search.input"));return t(e).prop("name")||t(e).prop("id")},getObject:function(t,e){return t.split(".").reduce(function(t,e){return null!==t&&void 0!==t[e]?t[e]:null},e)},extendObj:function(t,e,a){var n=e.split("."),i=0;return function t(e){var o=n[i++];void 0!==e[o]&&null!==e[o]?"object"!=typeof e[o]&&"function"!=typeof e[o]&&(e[o]={}):e[o]={},i===n.length?e[o]=a:t(e[o])}(t),t},rowEvenOdd:function(){t(i.tableBody).find(".k-datatable__row").removeClass("k-datatable__row--even"),t(i.wrap).hasClass("k-datatable--subtable")?t(i.tableBody).find(".k-datatable__row:not(.k-datatable__row-detail):even").addClass("k-datatable__row--even"):t(i.tableBody).find(".k-datatable__row:nth-child(even)").addClass("k-datatable__row--even")},timer:0,redraw:function(){return o.adjustCellsWidth.call(),o.isLocked()&&(o.scrollbar(),o.resetScroll(),o.adjustCellsHeight.call()),o.adjustLockContainer.call(),o.initHeight.call(),i},load:function(){return o.reload(),i},reload:function(){return function(t,e){clearTimeout(o.timer),o.timer=setTimeout(t,e)}(function(){n.data.serverFiltering||o.localDataUpdate(),o.dataRender(),t(i).trigger("k-datatable--on-reloaded")},o.getOption("search.delay")),i},getRecord:function(e){return void 0===i.tableBody&&(i.tableBody=t(i.table).children("tbody")),t(i.tableBody).find(".k-datatable__cell:first-child").each(function(a,n){if(e==t(n).text()){var l=t(n).closest(".k-datatable__row").index()+1;return i.API.record=i.API.value=o.getOneRow(i.tableBody,l),i}}),i},getColumn:function(e){return o.setSelectedRecords(),i.API.value=t(i.API.record).find('[data-field="'+e+'"]'),i},destroy:function(){t(i).parent().find(".k-datatable__pager").remove();var e=t(i.initialDatatable).addClass("k-datatable--destroyed").show();return t(i).replaceWith(e),t(i=e).trigger("k-datatable--on-destroy"),o.isInit=!1,e=null},sort:function(e,a){a=void 0===a?"asc":a,o.spinnerCallback(!0);var n={field:e,sort:a};return o.setDataSourceParam("sort",n),setTimeout(function(){o.dataRender("sort"),t(i).trigger("k-datatable--on-sort",n),t(i.tableHead).find(".k-datatable__cell > span > i").remove()},300),i},getValue:function(){return t(i.API.value).text()},setActive:function(e){"string"==typeof e&&(e=t(i.tableBody).find('.k-checkbox--single > [type="checkbox"][value="'+e+'"]')),t(e).prop("checked",!0);var a=t(e).closest(".k-datatable__row").addClass("k-datatable__row--active"),n=t(a).index()+1;t(a).closest(".k-datatable__lock").parent().find(".k-datatable__row:nth-child("+n+")").addClass("k-datatable__row--active");var o=[];t(a).each(function(e,a){var n=t(a).find('.k-checkbox--single:not(.k-checkbox--all) > [type="checkbox"]').val();void 0!==n&&o.push(n)}),t(i).trigger("k-datatable--on-check",[o])},setInactive:function(e){"string"==typeof e&&(e=t(i.tableBody).find('.k-checkbox--single > [type="checkbox"][value="'+e+'"]')),t(e).prop("checked",!1);var a=t(e).closest(".k-datatable__row").removeClass("k-datatable__row--active"),n=t(a).index()+1;t(a).closest(".k-datatable__lock").parent().find(".k-datatable__row:nth-child("+n+")").removeClass("k-datatable__row--active");var o=[];t(a).each(function(e,a){var n=t(a).find('.k-checkbox--single:not(.k-checkbox--all) > [type="checkbox"]').val();void 0!==n&&o.push(n)}),t(i).trigger("k-datatable--on-uncheck",[o])},setActiveAll:function(e){var a=t(i.table).find("> tbody, > thead").find("> tr:not(.k-datatable__row-subtable)").find('.k-datatable__cell--check [type="checkbox"]');e?o.setActive(a):o.setInactive(a)},setSelectedRecords:function(){return i.API.record=t(i.tableBody).find(".k-datatable__row--active"),i},getSelectedRecords:function(){return o.setSelectedRecords(),i.API.record=i.rows(".k-datatable__row--active").nodes(),i.API.record},getOption:function(t){return o.getObject(t,n)},setOption:function(t,e){n=o.extendObj(n,t,e)},search:function(e,a){void 0!==a&&(a=t.makeArray(a)),i=function(){var i=o.getDataSourceQuery();if(void 0===a&&void 0!==e){var l=o.getGeneralSearchKey();i[l]=e}"object"==typeof a&&(t.each(a,function(t,a){i[a]=e}),t.each(i,function(e,a){(""===a||t.isEmptyObject(a))&&delete i[e]})),o.setDataSourceQuery(i),n.data.serverFiltering||o.localDataUpdate(),o.dataRender("search")},l=o.getOption("search.delay"),clearTimeout(o.timer),o.timer=setTimeout(i,l);var i,l},setDataSourceParam:function(e,a){i.API.params=t.extend({},{pagination:{page:1,perpage:o.getOption("data.pageSize")},sort:o.getDefaultSortColumn(),query:{}},i.API.params,o.stateGet(o.stateId)),i.API.params=o.extendObj(i.API.params,e,a),o.stateKeep(o.stateId,i.API.params)},getDataSourceParam:function(e){return i.API.params=t.extend({},{pagination:{page:1,perpage:o.getOption("data.pageSize")},sort:o.getDefaultSortColumn(),query:{}},i.API.params,o.stateGet(o.stateId)),"string"==typeof e?o.getObject(e,i.API.params):i.API.params},getDataSourceQuery:function(){return o.getDataSourceParam("query")||{}},setDataSourceQuery:function(t){o.setDataSourceParam("query",t)},getCurrentPage:function(){return t(i.table).siblings(".k-datatable__pager").last().find(".k-datatable__pager-nav").find(".k-datatable__pager-link.k-datatable__pager-link--active").data("page")||1},getPageSize:function(){return t(i.table).siblings(".k-datatable__pager").last().find("select.k-datatable__pager-size").val()||10},getTotalRows:function(){return i.API.params.pagination.total},getDataSet:function(){return i.originalDataSet},hideColumn:function(e){t.map(n.columns,function(t){return e===t.field&&(t.responsive={hidden:"xl"}),t});var a=t.grep(t(i.table).find(".k-datatable__cell"),function(a,n){return e===t(a).data("field")});t(a).hide()},showColumn:function(e){t.map(n.columns,function(t){return e===t.field&&delete t.responsive,t});var a=t.grep(t(i.table).find(".k-datatable__cell"),function(a,n){return e===t(a).data("field")});t(a).show()},nodeTr:[],nodeTd:[],nodeCols:[],recentNode:[],table:function(){if(void 0!==i.table)return i.table},row:function(e){return o.rows(e),o.nodeTr=o.recentNode=t(o.nodeTr).first(),i},rows:function(e){return o.nodeTr=o.recentNode=t(i.tableBody).find(e).filter(".k-datatable__row"),i},column:function(e){return o.nodeCols=o.recentNode=t(i.tableBody).find(".k-datatable__cell:nth-child("+(e+1)+")"),i},columns:function(e){var a=i.table;o.nodeTr===o.recentNode&&(a=o.nodeTr);var n=t(a).find('.k-datatable__cell[data-field="'+e+'"]');return n.length>0?o.nodeCols=o.recentNode=n:o.nodeCols=o.recentNode=t(a).find(e).filter(".k-datatable__cell"),i},cell:function(e){return o.cells(e),o.nodeTd=o.recentNode=t(o.nodeTd).first(),i},cells:function(e){var a=t(i.tableBody).find(".k-datatable__cell");return void 0!==e&&(a=t(a).filter(e)),o.nodeTd=o.recentNode=a,i},remove:function(){return t(o.nodeTr.length)&&o.nodeTr===o.recentNode&&t(o.nodeTr).remove(),o.layoutUpdate(),i},visible:function(e){if(t(o.recentNode.length)){var a=o.lockEnabledColumns();if(o.recentNode===o.nodeCols){var i=o.recentNode.index();if(o.isLocked()){var l=t(o.recentNode).closest(".k-datatable__lock--scroll").length;l?i+=a.left.length+1:t(o.recentNode).closest(".k-datatable__lock--right").length&&(i+=a.left.length+l+1)}}e?(o.recentNode===o.nodeCols&&delete n.columns[i].responsive,t(o.recentNode).show()):(o.recentNode===o.nodeCols&&o.setOption("columns."+i+".responsive",{hidden:"xl"}),t(o.recentNode).hide()),o.redraw()}},nodes:function(){return o.recentNode},dataset:function(){return i}};if(t.each(o,function(t,e){i[t]=e}),void 0!==n)if("string"==typeof n){var l=n;void 0!==(i=t(this).data("KDatatable"))&&(n=i.options,o[l].apply(this,Array.prototype.slice.call(arguments,1)))}else i.data("KDatatable")||t(this).hasClass("k-datatable--loaded")||(i.dataSet=null,i.textAlign={left:"k-datatable__cell--left",center:"k-datatable__cell--center",right:"k-datatable__cell--right"},n=t.extend(!0,{},t.fn.KDatatable.defaults,n),i.options=n,o.init.apply(this,[n]),t(i.wrap).data("KDatatable",i));else void 0===(i=t(this).data("KDatatable"))&&t.error("KDatatable not initialized"),n=i.options;return i}console.log("No KDatatable element exist.")},t.fn.KDatatable.defaults={data:{type:"local",source:null,pageSize:10,saveState:{cookie:!1,webstorage:!0},serverPaging:!1,serverFiltering:!1,serverSorting:!1,autoColumns:!1,attr:{rowProps:[]}},layout:{theme:"default",class:"k-datatable--brand",scroll:!1,height:null,minHeight:300,footer:!1,header:!0,customScrollbar:!0,spinner:{overlayColor:"#000000",opacity:0,type:"loader",state:"brand",message:!0},icons:{sort:{asc:"la la-arrow-up",desc:"la la-arrow-down"},pagination:{next:"la la-angle-right",prev:"la la-angle-left",first:"la la-angle-double-left",last:"la la-angle-double-right",more:"la la-ellipsis-h"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}},sortable:!0,resizable:!1,filterable:!1,pagination:!0,editable:!1,columns:[],search:{onEnter:!1,input:null,delay:400},rows:{callback:function(){},beforeTemplate:function(){},afterTemplate:function(){},autoHide:!0},toolbar:{layout:["pagination","info"],placement:["bottom"],items:{pagination:{type:"default",pages:{desktop:{layout:"default",pagesNumber:5},tablet:{layout:"default",pagesNumber:3},mobile:{layout:"compact"}},navigation:{prev:!0,next:!0,first:!0,last:!0},pageSizeSelect:[]},info:!0}},translate:{records:{processing:"Please wait...",noRecords:"No records found"},toolbar:{pagination:{items:{default:{first:"First",prev:"Previous",next:"Next",last:"Last",more:"More pages",input:"Page number",select:"Select page size"},info:"Showing {{start}} - {{end}} of {{total}}"}}}},extensions:{}}}(jQuery),function(t){t.fn.KDatatable=t.fn.KDatatable||{},t.fn.KDatatable.checkbox=function(e,a){var n={selectedAllRows:!1,selectedRows:[],unselectedRows:[],init:function(){n.selectorEnabled()&&(e.setDataSourceParam(a.vars.selectedAllRows,!1),e.stateRemove("checkbox"),a.vars.requestIds&&e.setDataSourceParam(a.vars.requestIds,!0),t(e).on("k-datatable--on-reloaded",function(){e.stateRemove("checkbox"),e.setDataSourceParam(a.vars.selectedAllRows,!1),n.selectedAllRows=!1,n.selectedRows=[],n.unselectedRows=[]}),n.selectedAllRows=e.getDataSourceParam(a.vars.selectedAllRows),t(e).on("k-datatable--on-layout-updated",function(a,i){i.table==t(e.wrap).attr("id")&&e.ready(function(){n.initVars(),n.initEvent(),n.initSelect()})}),t(e).on("k-datatable--on-check",function(a,i){i.forEach(function(t){n.selectedRows.push(t),n.unselectedRows=n.remove(n.unselectedRows,t)});var o={};o.selectedRows=t.unique(n.selectedRows),o.unselectedRows=t.unique(n.unselectedRows),e.stateKeep("checkbox",o)}),t(e).on("k-datatable--on-uncheck",function(a,i){i.forEach(function(t){n.unselectedRows.push(t),n.selectedRows=n.remove(n.selectedRows,t)});var o={};o.selectedRows=t.unique(n.selectedRows),o.unselectedRows=t.unique(n.unselectedRows),e.stateKeep("checkbox",o)}))},initEvent:function(){t(e.tableHead).find('.k-checkbox--all > [type="checkbox"]').click(function(i){if(n.selectedRows=n.unselectedRows=[],e.stateRemove("checkbox"),t(this).is(":checked")?n.selectedAllRows=!0:n.selectedAllRows=!1,!a.vars.requestIds){t(this).is(":checked")&&(n.selectedRows=t.makeArray(t(e.tableBody).find('.k-checkbox--single > [type="checkbox"]').map(function(e,a){return t(a).val()})));var o={};o.selectedRows=t.unique(n.selectedRows),e.stateKeep("checkbox",o)}e.setDataSourceParam(a.vars.selectedAllRows,n.selectedAllRows),t(e).trigger("k-datatable--on-click-checkbox",[t(this)])}),t(e.tableBody).find('.k-checkbox--single > [type="checkbox"]').click(function(i){var o=t(this).val();t(this).is(":checked")?(n.selectedRows.push(o),n.unselectedRows=n.remove(n.unselectedRows,o)):(n.unselectedRows.push(o),n.selectedRows=n.remove(n.selectedRows,o)),!a.vars.requestIds&&n.selectedRows.length<1&&t(e.tableHead).find('.k-checkbox--all > [type="checkbox"]').prop("checked",!1);var l={};l.selectedRows=t.unique(n.selectedRows),l.unselectedRows=t.unique(n.unselectedRows),e.stateKeep("checkbox",l),t(e).trigger("k-datatable--on-click-checkbox",[t(this)])})},initSelect:function(){n.selectedAllRows&&a.vars.requestIds?(e.hasClass("k-datatable--error")||t(e.tableHead).find('.k-checkbox--all > [type="checkbox"]').prop("checked",!0),e.setActiveAll(!0),n.unselectedRows.forEach(function(t){e.setInactive(t)})):(n.selectedRows.forEach(function(t){e.setActive(t)}),!e.hasClass("k-datatable--error")&&t(e.tableBody).find('.k-checkbox--single > [type="checkbox"]').not(":checked").length<1&&t(e.tableHead).find('.k-checkbox--all > [type="checkbox"]').prop("checked",!0))},selectorEnabled:function(){return t.grep(e.options.columns,function(t,e){return t.selector||!1})[0]},initVars:function(){var t=e.stateGet("checkbox");void 0!==t&&(n.selectedRows=t.selectedRows||[],n.unselectedRows=t.unselectedRows||[])},getSelectedId:function(t){if(n.initVars(),n.selectedAllRows&&a.vars.requestIds){void 0===t&&(t=a.vars.rowIds);var i=e.getObject(t,e.lastResponse)||[];return i.length>0&&n.unselectedRows.forEach(function(t){i=n.remove(i,parseInt(t))}),i}return n.selectedRows},remove:function(t,e){return t.filter(function(t){return t!==e})}};return e.checkbox=function(){return n},"object"==typeof a&&(a=t.extend(!0,{},t.fn.KDatatable.checkbox.default,a),n.init.apply(this,[a])),e},t.fn.KDatatable.checkbox.default={vars:{selectedAllRows:"selectedAllRows",requestIds:"requestIds",rowIds:"meta.rowIds"}}}(jQuery);var defaults={layout:{icons:{pagination:{next:"la la-angle-right",prev:"la la-angle-left",first:"la la-angle-double-left",last:"la la-angle-double-right",more:"la la-ellipsis-h"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}}};KUtil.isRTL()&&(defaults={layout:{icons:{pagination:{next:"la la-angle-left",prev:"la la-angle-right",last:"la la-angle-double-left",first:"la la-angle-double-right"},rowDetail:{collapse:"fa fa-caret-down",expand:"fa fa-caret-right"}}}}),$.extend(!0,$.fn.KDatatable.defaults,defaults);var KHeader=function(t,e){var a=this,n=KUtil.get(t),i=KUtil.get("body");if(void 0!==n){var o={classic:!1,offset:{mobile:150,desktop:200},minimize:{mobile:!1,desktop:!1}},l={construct:function(t){return KUtil.data(n).has("header")?a=KUtil.data(n).get("header"):(l.init(t),l.build(),KUtil.data(n).set("header",a)),a},init:function(t){a.events=[],a.options=KUtil.deepExtend({},o,t)},build:function(){var t=0,e=!0;KUtil.getViewPort().height;!1===a.options.minimize.mobile&&!1===a.options.minimize.desktop||window.addEventListener("scroll",function(){var n,o,r,s=0;KUtil.isInResponsiveRange("desktop")?(s=a.options.offset.desktop,n=a.options.minimize.desktop.on,o=a.options.minimize.desktop.off):KUtil.isInResponsiveRange("tablet-and-mobile")&&(s=a.options.offset.mobile,n=a.options.minimize.mobile.on,o=a.options.minimize.mobile.off),r=window.pageYOffset,KUtil.isInResponsiveRange("tablet-and-mobile")&&a.options.classic&&a.options.classic.mobile||KUtil.isInResponsiveRange("desktop")&&a.options.classic&&a.options.classic.desktop?r>s?(KUtil.addClass(i,n),KUtil.removeClass(i,o),e&&(l.eventTrigger("minimizeOn",a),e=!1)):(KUtil.addClass(i,o),KUtil.removeClass(i,n),0==e&&(l.eventTrigger("minimizeOff",a),e=!0)):(r>s&&t<r?(KUtil.addClass(i,n),KUtil.removeClass(i,o),e&&(l.eventTrigger("minimizeOn",a),e=!1)):(KUtil.addClass(i,o),KUtil.removeClass(i,n),0==e&&(l.eventTrigger("minimizeOff",a),e=!0)),t=r)})},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})}};return a.setDefaults=function(t){o=t},a.on=function(t,e){return l.addEvent(t,e)},l.construct.apply(a,[e]),!0,a}},KMenu=function(t,e){var a=this,n=!1,i=KUtil.get(t),o=KUtil.get("body");if(i){var l={accordion:{slideSpeed:200,autoScroll:!1,autoScrollSpeed:1200,expandAll:!0},dropdown:{timeout:500}},r={construct:function(t){return KUtil.data(i).has("menu")?a=KUtil.data(i).get("menu"):(r.init(t),r.reset(),r.build(),KUtil.data(i).set("menu",a)),a},init:function(t){a.events=[],a.eventHandlers={},a.options=KUtil.deepExtend({},l,t),a.pauseDropdownHoverTime=0,a.uid=KUtil.getUniqueID()},update:function(t){a.options=KUtil.deepExtend({},l,t),a.pauseDropdownHoverTime=0,r.reset(),a.eventHandlers={},r.build(),KUtil.data(i).set("menu",a)},reload:function(){r.reset(),r.build()},build:function(){a.eventHandlers.event_1=KUtil.on(i,".k-menu__toggle","click",r.handleSubmenuAccordion),("dropdown"===r.getSubmenuMode()||r.isConditionalSubmenuDropdown())&&(a.eventHandlers.event_2=KUtil.on(i,'[data-kmenu-submenu-toggle="hover"]',"mouseover",r.handleSubmenuDrodownHoverEnter),a.eventHandlers.event_3=KUtil.on(i,'[data-kmenu-submenu-toggle="hover"]',"mouseout",r.handleSubmenuDrodownHoverExit),a.eventHandlers.event_4=KUtil.on(i,'[data-kmenu-submenu-toggle="click"] > .k-menu__toggle, [data-kmenu-submenu-toggle="click"] > .k-menu__link .k-menu__toggle',"click",r.handleSubmenuDropdownClick),a.eventHandlers.event_5=KUtil.on(i,'[data-kmenu-submenu-toggle="tab"] > .k-menu__toggle, [data-kmenu-submenu-toggle="tab"] > .k-menu__link .k-menu__toggle',"click",r.handleSubmenuDropdownTabClick)),a.eventHandlers.event_6=KUtil.on(i,".k-menu__item:not(.k-menu__item--submenu) > .k-menu__link:not(.k-menu__toggle):not(.k-menu__link--toggle-skip)","click",r.handleLinkClick),a.options.scroll&&a.options.scroll.height&&r.scrollInit()},reset:function(){KUtil.off(i,"click",a.eventHandlers.event_1),KUtil.off(i,"mouseover",a.eventHandlers.event_2),KUtil.off(i,"mouseout",a.eventHandlers.event_3),KUtil.off(i,"click",a.eventHandlers.event_4),KUtil.off(i,"click",a.eventHandlers.event_5),KUtil.off(i,"click",a.eventHandlers.event_6)},scrollInit:function(){a.options.scroll&&a.options.scroll.height?(KUtil.scrollDestroy(i),KUtil.scrollInit(i,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:a.options.scroll.height})):KUtil.scrollDestroy(i)},scrollUpdate:function(){a.options.scroll&&a.options.scroll.height&&KUtil.scrollUpdate(i)},scrollTop:function(){a.options.scroll&&a.options.scroll.height&&KUtil.scrollTop(i)},getSubmenuMode:function(t){return KUtil.isInResponsiveRange("desktop")?t&&KUtil.hasAttr(t,"data-kmenu-submenu-toggle")?KUtil.attr(t,"data-kmenu-submenu-toggle"):KUtil.isset(a.options.submenu,"desktop.state.body")?KUtil.hasClass(o,a.options.submenu.desktop.state.body)?a.options.submenu.desktop.state.mode:a.options.submenu.desktop.default:KUtil.isset(a.options.submenu,"desktop")?a.options.submenu.desktop:void 0:KUtil.isInResponsiveRange("tablet")&&KUtil.isset(a.options.submenu,"tablet")?a.options.submenu.tablet:!(!KUtil.isInResponsiveRange("mobile")||!KUtil.isset(a.options.submenu,"mobile"))&&a.options.submenu.mobile},isConditionalSubmenuDropdown:function(){return!(!KUtil.isInResponsiveRange("desktop")||!KUtil.isset(a.options.submenu,"desktop.state.body"))},handleLinkClick:function(t){!1===r.eventTrigger("linkClick",this)&&t.preventDefault(),("dropdown"===r.getSubmenuMode(this)||r.isConditionalSubmenuDropdown())&&r.handleSubmenuDropdownClose(t,this)},handleSubmenuDrodownHoverEnter:function(t){if("accordion"!==r.getSubmenuMode(this))if(!1!==a.resumeDropdownHover()){"1"==this.getAttribute("data-hover")&&(this.removeAttribute("data-hover"),clearTimeout(this.getAttribute("data-timeout")),this.removeAttribute("data-timeout")),r.showSubmenuDropdown(this)}else console.log("test11111!");else console.log("test111!")},handleSubmenuDrodownHoverExit:function(t){if(!1!==a.resumeDropdownHover()&&"accordion"!==r.getSubmenuMode(this)){var e=this,n=a.options.dropdown.timeout,i=setTimeout(function(){"1"==e.getAttribute("data-hover")&&r.hideSubmenuDropdown(e,!0)},n);e.setAttribute("data-hover","1"),e.setAttribute("data-timeout",i)}},handleSubmenuDropdownClick:function(t){if("accordion"!==r.getSubmenuMode(this)){var e=this.closest(".k-menu__item");"accordion"!=e.getAttribute("data-kmenu-submenu-mode")&&(!1===KUtil.hasClass(e,"k-menu__item--hover")?(KUtil.addClass(e,"k-menu__item--open-dropdown"),r.showSubmenuDropdown(e)):(KUtil.removeClass(e,"k-menu__item--open-dropdown"),r.hideSubmenuDropdown(e,!0)),t.preventDefault())}},handleSubmenuDropdownTabClick:function(t){if("accordion"!==r.getSubmenuMode(this)){var e=this.closest(".k-menu__item");"accordion"!=e.getAttribute("data-kmenu-submenu-mode")&&(0==KUtil.hasClass(e,"k-menu__item--hover")&&(KUtil.addClass(e,"k-menu__item--open-dropdown"),r.showSubmenuDropdown(e)),t.preventDefault())}},handleSubmenuDropdownClose:function(t,e){if("accordion"!==r.getSubmenuMode(e)){var a=i.querySelectorAll(".k-menu__item.k-menu__item--submenu.k-menu__item--hover:not(.k-menu__item--tabs)");if(a.length>0&&!1===KUtil.hasClass(e,"k-menu__toggle")&&0===e.querySelectorAll(".k-menu__toggle").length)for(var n=0,o=a.length;n<o;n++)r.hideSubmenuDropdown(a[0],!0)}},handleSubmenuAccordion:function(t,e){var n,i=e||this;if("dropdown"===r.getSubmenuMode(e)&&(n=i.closest(".k-menu__item"))&&"accordion"!=n.getAttribute("data-kmenu-submenu-mode"))t.preventDefault();else{var o=i.closest(".k-menu__item"),l=KUtil.child(o,".k-menu__submenu, .k-menu__inner");if(!KUtil.hasClass(i.closest(".k-menu__item"),"k-menu__item--open-always")&&o&&l){t.preventDefault();var s=a.options.accordion.slideSpeed;if(!1===KUtil.hasClass(o,"k-menu__item--open")){if(!1===a.options.accordion.expandAll){var d=i.closest(".k-menu__nav, .k-menu__subnav"),c=KUtil.children(d,".k-menu__item.k-menu__item--open.k-menu__item--submenu:not(.k-menu__item--here):not(.k-menu__item--open-always)");if(d&&c)for(var u=0,p=c.length;u<p;u++){var f=c[0],g=KUtil.child(f,".k-menu__submenu");g&&KUtil.slideUp(g,s,function(){r.scrollUpdate(),KUtil.removeClass(f,"k-menu__item--open")})}}KUtil.slideDown(l,s,function(){r.scrollToItem(i),r.scrollUpdate(),r.eventTrigger("submenuToggle",l)}),KUtil.addClass(o,"k-menu__item--open")}else KUtil.slideUp(l,s,function(){r.scrollToItem(i),r.eventTrigger("submenuToggle",l)}),KUtil.removeClass(o,"k-menu__item--open")}}},scrollToItem:function(t){KUtil.isInResponsiveRange("desktop")&&a.options.accordion.autoScroll&&"1"!==i.getAttribute("data-kmenu-scroll")&&KUtil.scrollTo(t,a.options.accordion.autoScrollSpeed)},hideSubmenuDropdown:function(t,e){e&&(KUtil.removeClass(t,"k-menu__item--hover"),KUtil.removeClass(t,"k-menu__item--active-tab")),t.removeAttribute("data-hover"),t.getAttribute("data-kmenu-dropdown-toggle-class")&&KUtil.removeClass(o,t.getAttribute("data-kmenu-dropdown-toggle-class"));var a=t.getAttribute("data-timeout");t.removeAttribute("data-timeout"),clearTimeout(a)},showSubmenuDropdown:function(t){var e=i.querySelectorAll(".k-menu__item--submenu.k-menu__item--hover, .k-menu__item--submenu.k-menu__item--active-tab");if(e)for(var a=0,n=e.length;a<n;a++){var l=e[a];t!==l&&!1===l.contains(t)&&!1===t.contains(l)&&r.hideSubmenuDropdown(l,!0)}r.adjustSubmenuDropdownArrowPos(t),KUtil.addClass(t,"k-menu__item--hover"),t.getAttribute("data-kmenu-dropdown-toggle-class")&&KUtil.addClass(o,t.getAttribute("data-kmenu-dropdown-toggle-class"))},createSubmenuDropdownClickDropoff:function(t){var e,a=(e=KUtil.child(t,".k-menu__submenu")?KUtil.css(e,"z-index"):0)-1,n=document.createElement('<div class="k-menu__dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+a+'"></div>');o.appendChild(n),KUtil.addEvent(n,"click",function(e){e.stopPropagation(),e.preventDefault(),KUtil.remove(this),r.hideSubmenuDropdown(t,!0)})},adjustSubmenuDropdownArrowPos:function(t){var e=KUtil.child(t,".k-menu__submenu"),a=KUtil.child(e,".k-menu__arrow.k-menu__arrow--adjust");KUtil.child(e,".k-menu__subnav");if(a){var n=0;KUtil.child(t,".k-menu__link");KUtil.hasClass(e,"k-menu__submenu--classic")||KUtil.hasClass(e,"k-menu__submenu--fixed")?KUtil.hasClass(e,"k-menu__submenu--right")?(n=KUtil.outerWidth(t)/2,KUtil.hasClass(e,"k-menu__submenu--pull")&&(n+=Math.abs(parseFloat(KUtil.css(e,"margin-right")))),n=parseInt(KUtil.css(e,"width"))-n):KUtil.hasClass(e,"k-menu__submenu--left")&&(n=KUtil.outerWidth(t)/2,KUtil.hasClass(e,"k-menu__submenu--pull")&&(n+=Math.abs(parseFloat(KUtil.css(e,"margin-left"))))):(KUtil.hasClass(e,"k-menu__submenu--center")||KUtil.hasClass(e,"k-menu__submenu--full"))&&(n=KUtil.offset(t).left-(KUtil.getViewPort().width-parseInt(KUtil.css(e,"width")))/2,n+=KUtil.outerWidth(t)/2),KUtil.css(a,"left",n+"px")}},pauseDropdownHover:function(t){var e=new Date;a.pauseDropdownHoverTime=e.getTime()+t},resumeDropdownHover:function(){return(new Date).getTime()>a.pauseDropdownHoverTime},resetActiveItem:function(t){for(var e,n,o=0,l=(e=i.querySelectorAll(".k-menu__item--active")).length;o<l;o++){var r=e[0];KUtil.removeClass(r,"k-menu__item--active"),KUtil.hide(KUtil.child(r,".k-menu__submenu"));for(var s=0,d=(n=KUtil.parents(r,".k-menu__item--submenu")).length;s<d;s++){var c=n[o];KUtil.removeClass(c,"k-menu__item--open"),KUtil.hide(KUtil.child(c,".k-menu__submenu"))}}if(!1===a.options.accordion.expandAll&&(e=i.querySelectorAll(".k-menu__item--open")))for(o=0,l=e.length;o<l;o++)KUtil.removeClass(n[0],"k-menu__item--open")},setActiveItem:function(t){r.resetActiveItem(),KUtil.addClass(t,"k-menu__item--active");for(var e=KUtil.parents(t,".k-menu__item--submenu"),a=0,n=e.length;a<n;a++)KUtil.addClass(e[a],"k-menu__item--open")},getBreadcrumbs:function(t){var e,a=[],n=KUtil.child(t,".k-menu__link");a.push({text:e=KUtil.child(n,".k-menu__link-text")?e.innerHTML:"",title:n.getAttribute("title"),href:n.getAttribute("href")});for(var i=KUtil.parents(t,".k-menu__item--submenu"),o=0,l=i.length;o<l;o++){var r=KUtil.child(i[o],".k-menu__link");a.push({text:e=KUtil.child(r,".k-menu__link-text")?e.innerHTML:"",title:r.getAttribute("title"),href:r.getAttribute("href")})}return a.reverse()},getPageTitle:function(t){var e;return KUtil.child(t,".k-menu__link-text")?e.innerHTML:""},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})},removeEvent:function(t){a.events[t]&&delete a.events[t]}};return a.setDefaults=function(t){l=t},a.scrollUpdate=function(){return r.scrollUpdate()},a.scrollReInit=function(){return r.scrollInit()},a.scrollTop=function(){return r.scrollTop()},a.setActiveItem=function(t){return r.setActiveItem(t)},a.reload=function(){return r.reload()},a.update=function(t){return r.update(t)},a.getBreadcrumbs=function(t){return r.getBreadcrumbs(t)},a.getPageTitle=function(t){return r.getPageTitle(t)},a.getSubmenuMode=function(t){return r.getSubmenuMode(t)},a.hideDropdown=function(t){r.hideSubmenuDropdown(t,!0)},a.pauseDropdownHover=function(t){r.pauseDropdownHover(t)},a.resumeDropdownHover=function(){return r.resumeDropdownHover()},a.on=function(t,e){return r.addEvent(t,e)},a.off=function(t){return r.removeEvent(t)},a.one=function(t,e){return r.addEvent(t,e,!0)},r.construct.apply(a,[e]),KUtil.addResizeHandler(function(){n&&a.reload()}),n=!0,a}};document.addEventListener("click",function(t){var e;if(e=KUtil.get("body").querySelectorAll('.k-menu__nav .k-menu__item.k-menu__item--submenu.k-menu__item--hover:not(.k-menu__item--tabs)[data-kmenu-submenu-toggle="click"]'))for(var a=0,n=e.length;a<n;a++){var i=e[a].closest(".k-menu__nav").parentNode;if(i){var o,l=KUtil.data(i).get("menu");if(!l)break;if(!l||"dropdown"!==l.getSubmenuMode())break;if(t.target!==i&&!1===i.contains(t.target))if(o=i.querySelectorAll('.k-menu__item--submenu.k-menu__item--hover:not(.k-menu__item--tabs)[data-kmenu-submenu-toggle="click"]'))for(var r=0,s=o.length;r<s;r++)l.hideDropdown(o[r])}}});var KOffcanvas=function(t,e){var a=this,n=KUtil.get(t),i=KUtil.get("body");if(n){var o={},l={construct:function(t){return KUtil.data(n).has("offcanvas")?a=KUtil.data(n).get("offcanvas"):(l.init(t),l.build(),KUtil.data(n).set("offcanvas",a)),a},init:function(t){a.events=[],a.options=KUtil.deepExtend({},o,t),a.overlay,a.classBase=a.options.baseClass,a.classShown=a.classBase+"--on",a.classOverlay=a.classBase+"-overlay",a.state=KUtil.hasClass(n,a.classShown)?"shown":"hidden"},build:function(){if(a.options.toggleBy)if("string"==typeof a.options.toggleBy)KUtil.addEvent(a.options.toggleBy,"click",function(t){t.preventDefault(),l.toggle()});else if(a.options.toggleBy&&a.options.toggleBy[0]&&a.options.toggleBy[0].target)for(var t in a.options.toggleBy)KUtil.addEvent(a.options.toggleBy[t].target,"click",function(t){t.preventDefault(),l.toggle()});else a.options.toggleBy&&a.options.toggleBy.target&&KUtil.addEvent(a.options.toggleBy.target,"click",function(t){t.preventDefault(),l.toggle()});var e=KUtil.get(a.options.closeBy);e&&KUtil.addEvent(e,"click",function(t){t.preventDefault(),l.hide()})},isShown:function(t){return"shown"==a.state},toggle:function(){l.eventTrigger("toggle"),"shown"==a.state?l.hide(this):l.show(this)},show:function(t){"shown"!=a.state&&(l.eventTrigger("beforeShow"),l.togglerClass(t,"show"),KUtil.addClass(i,a.classShown),KUtil.addClass(n,a.classShown),a.state="shown",a.options.overlay&&(a.overlay=KUtil.insertAfter(document.createElement("DIV"),n),KUtil.addClass(a.overlay,a.classOverlay),KUtil.addEvent(a.overlay,"click",function(e){e.stopPropagation(),e.preventDefault(),l.hide(t)})),l.eventTrigger("afterShow"))},hide:function(t){"hidden"!=a.state&&(l.eventTrigger("beforeHide"),l.togglerClass(t,"hide"),KUtil.removeClass(i,a.classShown),KUtil.removeClass(n,a.classShown),a.state="hidden",a.options.overlay&&a.overlay&&KUtil.remove(a.overlay),l.eventTrigger("afterHide"))},togglerClass:function(t,e){var n,i=KUtil.attr(t,"id");if(a.options.toggleBy&&a.options.toggleBy[0]&&a.options.toggleBy[0].target)for(var o in a.options.toggleBy)a.options.toggleBy[o].target===i&&(n=a.options.toggleBy[o]);else a.options.toggleBy&&a.options.toggleBy.target&&(n=a.options.toggleBy);if(n){var l=KUtil.get(n.target);"show"===e&&KUtil.addClass(l,n.state),"hide"===e&&KUtil.removeClass(l,n.state)}},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})}};return a.setDefaults=function(t){o=t},a.isShown=function(){return l.isShown()},a.hide=function(){return l.hide()},a.show=function(){return l.show()},a.on=function(t,e){return l.addEvent(t,e)},a.one=function(t,e){return l.addEvent(t,e,!0)},l.construct.apply(a,[e]),!0,a}},KScrolltop=function(t,e){var a=this,n=KUtil.get(t),i=KUtil.get("body");if(n){var o={offset:300,speed:600,toggleClass:"k-scrolltop--on"},l={construct:function(t){return KUtil.data(n).has("scrolltop")?a=KUtil.data(n).get("scrolltop"):(l.init(t),l.build(),KUtil.data(n).set("scrolltop",a)),a},init:function(t){a.events=[],a.options=KUtil.deepExtend({},o,t)},build:function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?(window.addEventListener("touchend",function(){l.handle()}),window.addEventListener("touchcancel",function(){l.handle()}),window.addEventListener("touchleave",function(){l.handle()})):window.addEventListener("scroll",function(){l.handle()}),KUtil.addEvent(n,"click",l.scroll)},handle:function(){window.pageYOffset>a.options.offset?KUtil.addClass(i,a.options.toggleClass):KUtil.removeClass(i,a.options.toggleClass)},scroll:function(t){t.preventDefault(),KUtil.scrollTop(0,a.options.speed)},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})}};return a.setDefaults=function(t){o=t},a.on=function(t,e){return l.addEvent(t,e)},a.one=function(t,e){return l.addEvent(t,e,!0)},l.construct.apply(a,[e]),!0,a}},KPortlet=function(t,e){var a=this,n=KUtil.get(t),i=KUtil.get("body");if(n){var o={bodyToggleSpeed:400,tooltips:!0,tools:{toggle:{collapse:"Collapse",expand:"Expand"},reload:"Reload",remove:"Remove"},sticky:{offset:300,zIndex:101}},l={construct:function(t){return KUtil.data(n).has("portlet")?a=KUtil.data(n).get("portlet"):(l.init(t),l.build(),KUtil.data(n).set("portlet",a)),a},init:function(t){a.element=n,a.events=[],a.options=KUtil.deepExtend({},o,t),a.head=KUtil.child(n,".k-portlet__head"),a.foot=KUtil.child(n,".k-portlet__foot"),KUtil.child(n,".k-portlet__body")?a.body=KUtil.child(n,".k-portlet__body"):0!==KUtil.child(n,".k-form").length&&(a.body=KUtil.child(n,".k-form"))},build:function(){var t=KUtil.find(a.head,"[data-kportlet-tool=remove]");t&&KUtil.addEvent(t,"click",function(t){t.preventDefault(),l.remove()});var e=KUtil.find(a.head,"[data-kportlet-tool=reload]");e&&KUtil.addEvent(e,"click",function(t){t.preventDefault(),l.reload()});var n=KUtil.find(a.head,"[data-kportlet-tool=toggle]");n&&KUtil.addEvent(n,"click",function(t){t.preventDefault(),l.toggle()}),l.setupTooltips()},initSticky:function(){a.options.sticky.offset;a.head&&window.addEventListener("scroll",l.onScrollSticky)},onScrollSticky:function(t){var e=a.options.sticky.offset;if(!isNaN(e)){var o=document.documentElement.scrollTop;o>=e&&!1===KUtil.hasClass(i,"k-portlet--sticky")?(l.eventTrigger("stickyOn"),KUtil.addClass(i,"k-portlet--sticky"),KUtil.addClass(n,"k-portlet--sticky"),l.updateSticky()):1.5*o<=e&&KUtil.hasClass(i,"k-portlet--sticky")&&(l.eventTrigger("stickyOff"),KUtil.removeClass(i,"k-portlet--sticky"),KUtil.removeClass(n,"k-portlet--sticky"),l.resetSticky())}},updateSticky:function(){var t,e,n;a.head&&(KUtil.hasClass(i,"k-portlet--sticky")&&(t=a.options.sticky.position.top instanceof Function?parseInt(a.options.sticky.position.top.call()):parseInt(a.options.sticky.position.top),e=a.options.sticky.position.left instanceof Function?parseInt(a.options.sticky.position.left.call()):parseInt(a.options.sticky.position.left),n=a.options.sticky.position.right instanceof Function?parseInt(a.options.sticky.position.right.call()):parseInt(a.options.sticky.position.right),KUtil.css(a.head,"z-index",a.options.sticky.zIndex),KUtil.css(a.head,"top",t+"px"),KUtil.css(a.head,"left",e+"px"),KUtil.css(a.head,"right",n+"px")))},resetSticky:function(){a.head&&!1===KUtil.hasClass(i,"k-portlet--sticky")&&(KUtil.css(a.head,"z-index",""),KUtil.css(a.head,"top",""),KUtil.css(a.head,"left",""),KUtil.css(a.head,"right",""))},remove:function(){!1!==l.eventTrigger("beforeRemove")&&(l.removeTooltips(),KUtil.remove(n),l.eventTrigger("afterRemove"))},setContent:function(t){t&&(a.body.innerHTML=t)},getBody:function(){return a.body},getSelf:function(){return n},setupTooltips:function(){if(a.options.tooltips){var t=KUtil.hasClass(n,"k-portlet--collapse")||KUtil.hasClass(n,"k-portlet--collapsed"),e=KUtil.find(a.head,"[data-kportlet-tool=remove]");if(e){var i=new Tooltip(e,{title:a.options.tools.remove,placement:"top",offset:"0,5px",trigger:"hover",template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-top" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>'});KUtil.data(e).set("tooltip",i)}var o=KUtil.find(a.head,"[data-kportlet-tool=reload]");if(o){i=new Tooltip(o,{title:a.options.tools.reload,placement:"top",offset:"0,5px",trigger:"hover",template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-top" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>'});KUtil.data(o).set("tooltip",i)}var l=KUtil.find(a.head,"[data-kportlet-tool=toggle]");if(l){i=new Tooltip(l,{title:t?a.options.tools.toggle.expand:a.options.tools.toggle.collapse,placement:"top",offset:"0,5px",trigger:"hover",template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-top" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>'});KUtil.data(l).set("tooltip",i)}}},removeTooltips:function(){if(a.options.tooltips){var t=KUtil.find(a.head,"[data-kportlet-tool=remove]");t&&KUtil.data(t).has("tooltip")&&KUtil.data(t).get("tooltip").dispose();var e=KUtil.find(a.head,"[data-kportlet-tool=reload]");e&&KUtil.data(e).has("tooltip")&&KUtil.data(e).get("tooltip").dispose();var n=KUtil.find(a.head,"[data-kportlet-tool=toggle]");n&&KUtil.data(n).has("tooltip")&&KUtil.data(n).get("tooltip").dispose()}},reload:function(){l.eventTrigger("reload")},toggle:function(){KUtil.hasClass(n,"k-portlet--collapse")||KUtil.hasClass(n,"k-portlet--collapsed")?l.expand():l.collapse()},collapse:function(){if(!1!==l.eventTrigger("beforeCollapse")){KUtil.slideUp(a.body,a.options.bodyToggleSpeed,function(){l.eventTrigger("afterCollapse")}),KUtil.addClass(n,"k-portlet--collapse");var t=KUtil.find(a.head,"[data-kportlet-tool=toggle]");t&&KUtil.data(t).has("tooltip")&&KUtil.data(t).get("tooltip").updateTitleContent(a.options.tools.toggle.expand)}},expand:function(){if(!1!==l.eventTrigger("beforeExpand")){KUtil.slideDown(a.body,a.options.bodyToggleSpeed,function(){l.eventTrigger("afterExpand")}),KUtil.removeClass(n,"k-portlet--collapse"),KUtil.removeClass(n,"k-portlet--collapsed");var t=KUtil.find(a.head,"[data-kportlet-tool=toggle]");t&&KUtil.data(t).has("tooltip")&&KUtil.data(t).get("tooltip").updateTitleContent(a.options.tools.toggle.collapse)}},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){o=t},a.remove=function(){return l.remove(html)},a.initSticky=function(){return l.initSticky()},a.updateSticky=function(){return l.updateSticky()},a.resetSticky=function(){return l.resetSticky()},a.destroySticky=function(){l.resetSticky(),window.removeEventListener("scroll",l.onScrollSticky)},a.reload=function(){return l.reload()},a.setContent=function(t){return l.setContent(t)},a.toggle=function(){return l.toggle()},a.collapse=function(){return l.collapse()},a.expand=function(){return l.expand()},a.getBody=function(){return l.getBody()},a.getSelf=function(){return l.getSelf()},a.on=function(t,e){return l.addEvent(t,e)},a.one=function(t,e){return l.addEvent(t,e,!0)},l.construct.apply(a,[e]),a}},KToggle=function(t,e){var a=this,n=KUtil.get(t);KUtil.get("body");if(n){var i={togglerState:"",targetState:""},o={construct:function(t){return KUtil.data(n).has("toggle")?a=KUtil.data(n).get("toggle"):(o.init(t),o.build(),KUtil.data(n).set("toggle",a)),a},init:function(t){a.element=n,a.events=[],a.options=KUtil.deepExtend({},i,t),a.target=KUtil.get(a.options.target),a.targetState=a.options.targetState,a.togglerState=a.options.togglerState,a.state=KUtil.hasClasses(a.target,a.targetState)?"on":"off"},build:function(){KUtil.addEvent(n,"mouseup",o.toggle)},toggle:function(t){return o.eventTrigger("beforeToggle"),"off"==a.state?o.toggleOn():o.toggleOff(),o.eventTrigger("afterToggle"),t.preventDefault(),a},toggleOn:function(){return o.eventTrigger("beforeOn"),KUtil.addClass(a.target,a.targetState),a.togglerState&&KUtil.addClass(n,a.togglerState),a.state="on",o.eventTrigger("afterOn"),o.eventTrigger("toggle"),a},toggleOff:function(){return o.eventTrigger("beforeOff"),KUtil.removeClass(a.target,a.targetState),a.togglerState&&KUtil.removeClass(n,a.togglerState),a.state="off",o.eventTrigger("afterOff"),o.eventTrigger("toggle"),a},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){i=t},a.getState=function(){return a.state},a.toggle=function(){return o.toggle()},a.toggleOn=function(){return o.toggleOn()},a.toggleOff=function(){return o.toggleOff()},a.on=function(t,e){return o.addEvent(t,e)},a.one=function(t,e){return o.addEvent(t,e,!0)},o.construct.apply(a,[e]),a}},KWizard=function(t,e){var a=this,n=KUtil.get(t);KUtil.get("body");if(n){var i={startStep:1,manualStepForward:!1},o={construct:function(t){return KUtil.data(n).has("wizard")?a=KUtil.data(n).get("wizard"):(o.init(t),o.build(),KUtil.data(n).set("wizard",a)),a},init:function(t){a.element=n,a.events=[],a.options=KUtil.deepExtend({},i,t),a.steps=KUtil.findAll(n,'[data-kwizard-type="step"]'),a.btnSubmit=KUtil.find(n,'[data-kwizard-type="action-submit"]'),a.btnNext=KUtil.find(n,'[data-kwizard-type="action-next"]'),a.btnPrev=KUtil.find(n,'[data-kwizard-type="action-prev"]'),a.btnLast=KUtil.find(n,'[data-kwizard-type="action-last"]'),a.btnFirst=KUtil.find(n,'[data-kwizard-type="action-first"]'),a.events=[],a.currentStep=1,a.stopped=!1,a.totalSteps=a.steps.length,a.options.startStep>1&&o.goTo(a.options.startStep),o.updateUI()},build:function(){KUtil.addEvent(a.btnNext,"click",function(t){t.preventDefault(),o.goNext()}),KUtil.addEvent(a.btnPrev,"click",function(t){t.preventDefault(),o.goPrev()}),KUtil.addEvent(a.btnFirst,"click",function(t){t.preventDefault(),o.goFirst()}),KUtil.addEvent(a.btnLast,"click",function(t){t.preventDefault(),o.goLast()}),KUtil.on(n,'a[data-kwizard-type="step"]',"click",function(){var t=KUtil.index(this)+1;t!==a.currentStep&&o.goTo(t)})},goTo:function(t){if(!(t===a.currentStep||t>a.totalSteps||t<0)){var e;if(e=(t=t?parseInt(t):o.getNextStep())>a.currentStep?o.eventTrigger("beforeNext"):o.eventTrigger("beforePrev"),!0!==a.stopped)return!1!==e&&(o.eventTrigger("beforeChange"),a.currentStep=t,o.updateUI(),o.eventTrigger("change")),t>a.startStep?o.eventTrigger("afterNext"):o.eventTrigger("afterPrev"),a;a.stopped=!1}},stop:function(){a.stopped=!0},start:function(){a.stopped=!1},isLastStep:function(){return a.currentStep===a.totalSteps},isFirstStep:function(){return 1===a.currentStep},isBetweenStep:function(){return!1===o.isLastStep()&&!1===o.isFirstStep()},goNext:function(){return o.goTo(o.getNextStep())},goPrev:function(){return o.goTo(o.getPrevStep())},goLast:function(){return o.goTo(a.totalSteps)},goFirst:function(){return o.goTo(1)},updateUI:function(){var t="",e=a.currentStep-1;t=o.isLastStep()?"last":o.isFirstStep()?"first":"between",KUtil.attr(a.element,"data-kwizard-state",t);var n=KUtil.findAll(a.element,'[data-kwizard-type="step"]');if(n&&n.length>0)for(var i=0,l=n.length;i<l;i++)i==e?KUtil.attr(n[i],"data-kwizard-state","current"):i<e?KUtil.attr(n[i],"data-kwizard-state","done"):KUtil.attr(n[i],"data-kwizard-state","pending");var r=KUtil.findAll(a.element,'[data-kwizard-type="step-info"]');if(r&&r.length>0)for(i=0,l=r.length;i<l;i++)i==e?KUtil.attr(r[i],"data-kwizard-state","current"):KUtil.removeAttr(r[i],"data-kwizard-state");var s=KUtil.findAll(a.element,'[data-kwizard-type="step-content"]');if(s&&s.length>0)for(i=0,l=s.length;i<l;i++)i==e?KUtil.attr(s[i],"data-kwizard-state","current"):KUtil.removeAttr(s[i],"data-kwizard-state")},handleTarget:function(){var t=a.steps[a.currentStep-1],e=KUtil.get(KUtil.attr(t,"data-kwizard-target")),i=KUtil.find(n,".k-wizard__form-step--current");KUtil.removeClass(i,"k-wizard__form-step--current"),KUtil.addClass(e,"k-wizard__form-step--current")},getNextStep:function(){return a.totalSteps>=a.currentStep+1?a.currentStep+1:a.totalSteps},getPrevStep:function(){return a.currentStep-1>=1?a.currentStep-1:1},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){i=t},a.goNext=function(){return o.goNext()},a.goPrev=function(){return o.goPrev()},a.goLast=function(){return o.goLast()},a.stop=function(){return o.stop()},a.start=function(){return o.start()},a.goFirst=function(){return o.goFirst()},a.goTo=function(t){return o.goTo(t)},a.getStep=function(){return a.currentStep},a.isLastStep=function(){return o.isLastStep()},a.isFirstStep=function(){return o.isFirstStep()},a.on=function(t,e){return o.addEvent(t,e)},a.one=function(t,e){return o.addEvent(t,e,!0)},o.construct.apply(a,[e]),a}},KAvatar=function(t,e){var a=this,n=KUtil.get(t);KUtil.get("body");if(n){var i={},o={construct:function(t){return KUtil.data(n).has("avatar")?a=KUtil.data(n).get("avatar"):(o.init(t),o.build(),KUtil.data(n).set("avatar",a)),a},init:function(t){a.element=n,a.events=[],a.input=KUtil.find(n,'input[type="file"]'),a.holder=KUtil.find(n,".k-avatar__holder"),a.cancel=KUtil.find(n,".k-avatar__cancel"),a.src=KUtil.css(a.holder,"backgroundImage"),a.options=KUtil.deepExtend({},i,t)},build:function(){KUtil.addEvent(a.input,"change",function(t){if(t.preventDefault(),a.input&&a.input.files&&a.input.files[0]){var e=new FileReader;e.onload=function(t){KUtil.css(a.holder,"background-image","url("+t.target.result+")")},e.readAsDataURL(a.input.files[0]),KUtil.addClass(a.element,"k-avatar--changed")}}),KUtil.addEvent(a.cancel,"click",function(t){t.preventDefault(),KUtil.removeClass(a.element,"k-avatar--changed"),KUtil.css(a.holder,"background-image",a.src),a.input.value=""})},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){i=t},a.on=function(t,e){return o.addEvent(t,e)},a.one=function(t,e){return o.addEvent(t,e,!0)},o.construct.apply(a,[e]),a}},KLayout=function(){var t,e,a,n,i,o,l,r,s=function(){return new KPortlet("k_page_portlet",{sticky:{offset:parseInt(KUtil.css(KUtil.get("k_header"),"height")),zIndex:90,position:{top:function(){return KUtil.isInResponsiveRange("desktop")?parseInt(KUtil.css(KUtil.get("k_header"),"height")):parseInt(KUtil.css(KUtil.get("k_header_mobile"),"height"))},left:function(){var e=0;return KUtil.isInResponsiveRange("desktop")&&(KUtil.hasClass(t,"k-aside--minimize")?e+=78:e+=260),e+=parseInt(KUtil.css(KUtil.get("k_content"),"paddingLeft"))},right:function(){var e=0;return KUtil.isInResponsiveRange("desktop")&&(KUtil.hasClass(t,"k-aside-secondary--enabled")?KUtil.hasClass(t,"k-aside-secondary--expanded")?e+=370:e+=60:e+=parseInt(KUtil.css(KUtil.get("k_content"),"paddingRight"))),KUtil.get("k_aside_secondary")&&(e+=parseInt(KUtil.css(KUtil.get("k_content"),"paddingRight"))),e}}}})};return{init:function(){t=KUtil.get("body"),this.initHeader(),this.initAside(),this.initAsideSecondary(),this.initPageStickyPortlet(),$("#k_header_menu").on("click",".k-menu__submenu .k-menu__link",function(){swal("You have clicked on a dummy link!","To browse the theme features please refer to the left aside menu.","warning")})},initHeader:function(){var t,n,i;n=KUtil.get("k_header"),i={offset:{},minimize:{}},"hide"==KUtil.attr(n,"data-kheader-minimize-mobile")?(i.minimize.mobile={},i.minimize.mobile.on="k-header--hide",i.minimize.mobile.off="k-header--show"):i.minimize.mobile=!1,"hide"==KUtil.attr(n,"data-kheader-minimize")?(i.minimize.desktop={},i.minimize.desktop.on="k-header--hide",i.minimize.desktop.off="k-header--show"):i.minimize.desktop=!1,(t=KUtil.attr(n,"data-kheader-minimize-offset"))&&(i.offset.desktop=t),(t=KUtil.attr(n,"data-kheader-minimize-mobile-offset"))&&(i.offset.mobile=t),new KHeader("k_header",i),a=new KOffcanvas("k_header_menu_wrapper",{overlay:!0,baseClass:"k-header-menu-wrapper",closeBy:"k_header_menu_mobile_close_btn",toggleBy:{target:"k_header_mobile_toggler",state:"k-header-mobile__toolbar-toggler--active"}}),e=new KMenu("k_header_menu",{submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},accordion:{slideSpeed:200,expandAll:!1}}),o=new KToggle("k_header_mobile_topbar_toggler",{target:"body",targetState:"k-header__topbar--mobile-on",togglerState:"k-header-mobile__toolbar-topbar-toggler--active"}),new KScrolltop("k_scrolltop",{offset:300,speed:600})},initAside:function(){var a,l,s,d,c,u,p;s=KUtil.get("k_aside"),KUtil.get("k_aside_brand"),d=KUtil.hasClass(s,"k-aside--offcanvas-default")?"k-aside--offcanvas-default":"k-aside",i=new KOffcanvas("k_aside",{baseClass:d,overlay:!0,closeBy:"k_aside_close_btn",toggleBy:{target:"k_aside_mobile_toggler",state:"k-header-mobile__toolbar-toggler--active"}}),KUtil.hasClass(t,"k-aside--fixed")&&(KUtil.addEvent(s,"mouseenter",function(e){e.preventDefault(),!1!==KUtil.isInResponsiveRange("desktop")&&(l&&(clearTimeout(l),l=null),a=setTimeout(function(){KUtil.hasClass(t,"k-aside--minimize")&&KUtil.isInResponsiveRange("desktop")&&(KUtil.removeClass(t,"k-aside--minimize"),KUtil.addClass(t,"k-aside--minimizing"),KUtil.transitionEnd(t,function(){KUtil.removeClass(t,"k-aside--minimizing")}),KUtil.addClass(t,"k-aside--minimize-hover"),n.scrollUpdate(),n.scrollTop())},50))}),KUtil.addEvent(s,"mouseleave",function(e){e.preventDefault(),!1!==KUtil.isInResponsiveRange("desktop")&&(a&&(clearTimeout(a),a=null),l=setTimeout(function(){KUtil.hasClass(t,"k-aside--minimize-hover")&&KUtil.isInResponsiveRange("desktop")&&(KUtil.removeClass(t,"k-aside--minimize-hover"),KUtil.addClass(t,"k-aside--minimize"),KUtil.addClass(t,"k-aside--minimizing"),KUtil.transitionEnd(t,function(){KUtil.removeClass(t,"k-aside--minimizing")}),n.scrollUpdate(),n.scrollTop())},100))})),u=KUtil.get("k_aside_menu"),p="1"===KUtil.attr(u,"data-kmenu-dropdown")?"dropdown":"accordion","1"===KUtil.attr(u,"data-kmenu-scroll")&&(c={height:function(){var t;return t=KUtil.isInResponsiveRange("desktop")?parseInt(KUtil.getViewPort().height)-parseInt(KUtil.actualHeight("k_aside_brand"))-parseInt(KUtil.getByID("k_aside_footer")?KUtil.actualHeight("k_aside_footer"):0):parseInt(KUtil.getViewPort().height)-parseInt(KUtil.getByID("k_aside_footer")?KUtil.actualHeight("k_aside_footer"):0),t-=parseInt(KUtil.css(u,"marginBottom"))+parseInt(KUtil.css(u,"marginTop"))}}),n=new KMenu("k_aside_menu",{scroll:c,submenu:{desktop:{default:p,state:{body:"k-aside--minimize",mode:"dropdown"}},tablet:"accordion",mobile:"accordion"},accordion:{expandAll:!1}}),KUtil.get("k_aside_toggler")&&((o=new KToggle("k_aside_toggler",{target:"body",targetState:"k-aside--minimize",togglerState:"k-aside__brand-aside-toggler--active"})).on("toggle",function(a){KUtil.addClass(t,"k-aside--minimizing"),KUtil.get("k_page_portlet")&&r.updateSticky(),KUtil.transitionEnd(t,function(){KUtil.removeClass(t,"k-aside--minimizing")}),e.pauseDropdownHover(800),n.pauseDropdownHover(800),Cookies.set("k_aside_toggle_state",a.getState())}),o.on("beforeToggle",function(t){var e=KUtil.get("body");!1===KUtil.hasClass(e,"k-aside--minimize")&&KUtil.hasClass(e,"k-aside--minimize-hover")&&KUtil.removeClass(e,"k-aside--minimize-hover")})),this.onAsideToggle(function(t){r&&r.updateSticky();var e=$(".k-datatable");e&&e.each(function(){$(this).KDatatable("redraw")})})},initAsideSecondary:function(){KUtil.get("k_aside_secondary")&&(l=new KToggle("k_aside_secondary_toggler",{target:"body",targetState:"k-aside-secondary--expanded"})).on("toggle",function(t){KUtil.get("k_page_portlet")&&r.updateSticky()})},initPageStickyPortlet:function(){KUtil.get("k_page_portlet")&&((r=s()).initSticky(),KUtil.addResizeHandler(function(){r.updateSticky()}),s())},getAsideMenu:function(){return n},onAsideToggle:function(t){void 0!==o.element&&o.on("toggle",t)},getAsideToggler:function(){return o},openAsideSecondary:function(){l.toggleOn()},closeAsideSecondary:function(){l.toggleOff()},getAsideSecondaryToggler:function(){return l},onAsideSecondaryToggle:function(t){l&&l.on("toggle",t)},closeMobileAsideMenuOffcanvas:function(){KUtil.isMobileDevice()&&i.hide()},closeMobileHeaderMenuOffcanvas:function(){KUtil.isMobileDevice()&&a.hide()}}}();$(document).ready(function(){KLayout.init()});var KAsideSecondary=function(){KUtil.get("k_aside_secondary");var t,e=KUtil.get("k_aside_secondary_tab_1"),a=KUtil.get("k_aside_secondary_tab_2"),n=KUtil.get("k_aside_secondary_tab_3"),i=KUtil.find(e,".k-aside-secondary__content-body"),o=KUtil.find(a,".k-aside-secondary__content-body"),l=KUtil.find(n,".k-aside-secondary__content-body"),r=function(t){var e,a=KUtil.find(t,".k-aside-secondary__content-head");KUtil.find(t,".k-aside-secondary__content-body");return e=parseInt(KUtil.getViewPort().height)-parseInt(KUtil.actualHeight(a))-60,KUtil.isInResponsiveRange("desktop")?e-=KUtil.actualHeight(KUtil.get("k_header")):e-=KUtil.actualHeight(KUtil.get("k_header_mobile")),e};return{init:function(){$('#k_aside_secondary_nav a[data-toggle="tab"]').on("click",function(e){t&&t.is($(this))&&$("body").hasClass("k-aside-secondary--expanded")?KLayout.closeAsideSecondary():(t=$(this),KLayout.openAsideSecondary())}),$("#k_aside_secondary_close").on("click",function(t){KLayout.closeAsideSecondary()}),$('#k_aside_secondary_nav a[data-toggle="tab"]').on("shown.bs.tab",function(t){KUtil.scrollUpdate(i),KUtil.scrollUpdate(o),KUtil.scrollUpdate(l)}),new KToggle("k_aside_secondary_mobile_nav_toggler",{target:"body",targetState:"k-aside-secondary--mobile-nav-expanded"}),KUtil.scrollInit(i,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return r(e)}}),KUtil.scrollInit(o,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return r(a)}}),KUtil.scrollInit(l,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return r(n)}})}}}();$(document).ready(function(){KUtil.get("k_aside_secondary")&&KAsideSecondary.init()});